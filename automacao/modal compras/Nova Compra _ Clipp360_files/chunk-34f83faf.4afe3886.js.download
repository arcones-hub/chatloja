(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34f83faf"],{"0123":function(e,t,a){},"0481":function(e,t,a){"use strict";var r=a("23e7"),n=a("a2bf"),i=a("7b0b"),s=a("50c4"),o=a("a691"),c=a("65f0");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),a=s(t.length),r=c(t,0);return r.length=n(r,t,t,a,0,void 0===e?1:o(e)),r}})},"088f":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("1393");var r=a("d4ec"),n=a("bee2"),i=a("9dcd"),s=a.n(i),o=function(){function e(t){Object(r["a"])(this,e),this.big=new s.a(t||0)}return Object(n["a"])(e,[{key:"add",value:function(e){return this.big=this.big.plus(e||0),this}},{key:"subtract",value:function(e){return this.big=this.big.minus(e||0),this}},{key:"multiply",value:function(e){return this.big=this.big.times(e||0),this}},{key:"divide",value:function(e){return this.big=this.big.div(e||0),this}},{key:"toNumber",value:function(){return this.big.toNumber()}},{key:"round",value:function(e){return this.big=this.big.round(e),this}}]),e}()},"0ab8":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));var r={TOTAL_ATTRIBUTES:0,TOTAL_COMMON:1,TOTAL_DESC_BASED_ON_ITEM:2,TOTAL_DESC_BASED_ON_TOTAL:3,TOTAL_NF:4,TOTAL_TAX_REGIME:5},n={TOTAL_SERVICES:0,TOTAL_NF:1,TAXES_BASED_ON_SERVICES:2,TAXES_BASED_ON_TOTAL:3,DISCOUNT_BASED_ON_SERVICES:4,DISCOUNT_BASED_ON_TOTAL:5}},1163:function(e,t,a){"use strict";a("6eba")},1393:function(e,t,a){"use strict";var r=a("23e7"),n=a("857a"),i=a("af03");r({target:"String",proto:!0,forced:i("big")},{big:function(){return n(this,"big","","")}})},"13c0":function(e,t,a){"use strict";a("f009")},"218b":function(e,t,a){"use strict";a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return v}));a("d3b7"),a("ddb0"),a("96cf");var r=a("1da1"),n=a("5530"),i=a("2ef0"),s=a("8fc5"),o=a("e918"),c=a("dabd"),l=a("a12e"),u=a("8a0f"),d=s["a"].methods.valorReal,p=function(e,t){var a=e.productData,r=t.quantity;return{productData:Object(n["a"])(Object(n["a"])({},a),{},{quantityPurchased:d(Object(i["round"])(a.quantityPurchased,r),r),discount:a.vDesc})}},f=function(e){var t,a,r,i,s,o,c,l,u=e.fiscal.values;return{values:Object(n["a"])(Object(n["a"])({},u),{},{pIPI:d(u.pIPI,4),pPIS:d(u.pPIS,4),pCOFINS:d(u.pCOFINS,4),pICMS:d(u.pICMS,4),pICMSST:d(u.pICMSST,4),pST:d(u.pST,4),pMVAST:d(u.pMVAST,4),pFCPST:d(u.pFCPST,4),cst:null!==(t=u.cst)&&void 0!==t?t:null,cfop:null!==(a=u.cfop)&&void 0!==a?a:null,csosn:null!==(r=u.csosn)&&void 0!==r?r:null,cstIpi:null!==(i=u.cstIpi)&&void 0!==i?i:null,cenq:null!==(s=u.cenq)&&void 0!==s?s:null,cstPis:null!==(o=u.cstPis)&&void 0!==o?o:null,cstCofins:null!==(c=u.cstCofins)&&void 0!==c?c:null,origem:null!==(l=u.origem)&&void 0!==l?l:null})}},m=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,s,o,c,u,d,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=null!==(a=null===(r=t.unitOfMeasure)||void 0===r||null===(n=r.acronym)||void 0===n?void 0:n.substring(0,6))&&void 0!==a?a:null,null===(i=t.unitOfMeasure)||void 0===i||!i.unidadeMedidaTributavel||null===(s=t.unitOfMeasure)||void 0===s||!s.id){e.next=6;break}return e.next=4,l["a"].actions.getUnitOfMeasureById({},{id:null===(c=t.unitOfMeasure)||void 0===c?void 0:c.id});case 4:u=e.sent,u&&(o=(null===u||void 0===u||null===(d=u[0])||void 0===d||null===(p=d.unidadeMedidaTributavel)||void 0===p||null===(f=p.sigla)||void 0===f?void 0:f.substring(0,6))||o);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,s,l,d,p,f,b,v,h,C,S,g,O,I,P,T,B,x,y,F,E,R,_,j,M,k,w,D,A,N,$,q,L,U,V,z,Q,W,K,X,Y,H,G,J,Z,ee,te,ae,re,ne,ie,se,oe,ce,le,ue,de,pe,fe,me,be;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return ce=t.fiscal.produto,le=null!==(a=null===(r=o["a"].state.client.addressCollection)||void 0===r||null===(n=r[0])||void 0===n||null===(i=n.zipCode)||void 0===i||null===(s=i.city)||void 0===s?void 0:s.code)&&void 0!==a?a:"",ue=null!==(l=null===(d=o["a"].state.client.addressCollection)||void 0===d||null===(p=d[0])||void 0===p||null===(f=p.zipCode)||void 0===f||null===(b=f.city)||void 0===b||null===(v=b.state)||void 0===v?void 0:v.code)&&void 0!==l?l:"",e.next=5,c["a"].actions.getIbsTaxRegimeAliquots({},{cMun:le,cUF:ue,cClassTrib:null!==(h=null===(C=ce.ibsRegime)||void 0===C||null===(S=C.classTribIBSCBS)||void 0===S?void 0:S.codigo)&&void 0!==h?h:"",cClassTribReg:null!==(g=null===(O=ce.ibsRegime)||void 0===O||null===(I=O.classTribIBSCBSReg)||void 0===I?void 0:I.codigo)&&void 0!==g?g:""});case 5:return de=e.sent,pe=null===(P=ce.ibsRegime)||void 0===P||null===(T=P.classTribIBSCBS)||void 0===T?void 0:T.ind_gCredPres,fe=null===(B=ce.ibsRegime)||void 0===B||null===(x=B.classTribIBSCBS)||void 0===x?void 0:x.ind_gTribRegular,me=null===(y=ce.ibsRegime)||void 0===y||null===(F=y.CSTIBSCBS)||void 0===F?void 0:F.ind_gDif,e.next=11,m(t);case 11:return be=e.sent,e.abrupt("return",{CST:(null===(E=ce.ibsRegime)||void 0===E||null===(R=E.CSTIBSCBS)||void 0===R?void 0:R.codigo)||null,cClassTrib:(null===(_=ce.ibsRegime)||void 0===_||null===(j=_.classTribIBSCBS)||void 0===j?void 0:j.codigo)||null,vBC:0,vIBS:0,IBSUF:{pIBSUF:(null===de||void 0===de||null===(M=de.IBSUF)||void 0===M?void 0:M.pIBSUF)||0,vIBSUF:0,pDif:me&&(null===(k=ce.ibsRegime)||void 0===k?void 0:k.diferimentoIBSUF)||0,vDif:0,vDevTrib:0,pRedAliq:(null===(w=ce.ibsRegime)||void 0===w?void 0:w.reducaoIBSUF)||0,pAliqEfet:(null===de||void 0===de||null===(D=de.IBSUF)||void 0===D?void 0:D.pAliqEfet)||0},IBSMun:{pIBSMun:(null===de||void 0===de||null===(A=de.IBSMun)||void 0===A?void 0:A.pIBSMun)||0,vIBSMun:0,pDif:me&&(null===(N=ce.ibsRegime)||void 0===N?void 0:N.diferimentoIBSMun)||0,vDif:0,vDevTrib:0,pRedAliq:(null===($=ce.ibsRegime)||void 0===$?void 0:$.reducaoIBSMun)||0,pAliqEfet:(null===de||void 0===de||null===(q=de.IBSMun)||void 0===q?void 0:q.pAliqEfet)||0},CBS:{pCBS:(null===de||void 0===de||null===(L=de.CBS)||void 0===L?void 0:L.pCBS)||0,vCBS:0,pDif:me&&(null===(U=ce.ibsRegime)||void 0===U?void 0:U.diferimentoCBS)||0,vDif:0,vDevTrib:0,pRedAliq:(null===(V=ce.ibsRegime)||void 0===V?void 0:V.reducaoCBS)||0,pAliqEfet:(null===de||void 0===de||null===(z=de.CBS)||void 0===z?void 0:z.pAliqEfet)||0},gTribRegular:{CSTReg:fe&&(null===(Q=ce.ibsRegime)||void 0===Q||null===(W=Q.CSTIBSCBSReg)||void 0===W?void 0:W.codigo)||null,cClassTribReg:fe&&(null===(K=ce.ibsRegime)||void 0===K||null===(X=K.classTribIBSCBSReg)||void 0===X?void 0:X.codigo)||null,pAliqEfetRegIBSUF:(null===de||void 0===de||null===(Y=de.tribReg)||void 0===Y?void 0:Y.pAliqEfetRegIBSUF)||0,vTribRegIBSUF:0,pAliqEfetRegIBSMun:(null===de||void 0===de||null===(H=de.tribReg)||void 0===H?void 0:H.pAliqEfetRegIBSMun)||0,vTribRegIBSMun:0,pAliqEfetRegCBS:(null===de||void 0===de||null===(G=de.tribReg)||void 0===G?void 0:G.pAliqEfetRegCBS)||0,vTribRegCBS:0},gCredPresOper:{vBCCredPres:0,cCredPres:(null===(J=ce.ibsRegime)||void 0===J||null===(Z=J.codCredPresuNFe)||void 0===Z?void 0:Z.codigo)||null,gIBSCredPres:{pCredPres:pe&&(null===(ee=ce.ibsRegime)||void 0===ee?void 0:ee.aliqCredPresuNFeIBS)||0,vCredPres:0,vCredPresCondSus:0},gCBSCredPres:{pCredPres:pe&&(null===(te=ce.ibsRegime)||void 0===te?void 0:te.aliqCredPresuNFeCBS)||0,vCredPres:0,vCredPresCondSus:0}},IS:{CSTIS:(null===(ae=ce.ibsRegime)||void 0===ae||null===(re=ae.CSTIS)||void 0===re?void 0:re.codigo)||null,cClassTribIS:(null===(ne=ce.ibsRegime)||void 0===ne||null===(ie=ne.classTribIS)||void 0===ie?void 0:ie.codigo)||null,vBCIS:0,pIS:(null===(se=ce.ibsRegime)||void 0===se?void 0:se.pIS)||0,pISEspec:(null===(oe=ce.ibsRegime)||void 0===oe?void 0:oe.aliqEspec)||0,uTrib:be,qTrib:Object(u["b"])(t.quantityPurchased),vIS:0}});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,s,o,c,l,u,d,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f=t.fiscal.produto,e.t0={cfop:f.CFOP,origem:f.origem,cst:f.CST,csosn:f.CSOSN,cstIpi:f.CSTIPI,cenq:f.CENQ,cstPis:f.CSTPIS,cstCofins:f.CSTCOFINS},e.t1={cfopId:null===(a=f.CFOP)||void 0===a?void 0:a.id,ncmId:null===(r=f.NCM)||void 0===r?void 0:r.id,cenqId:null===(n=f.CENQ)||void 0===n?void 0:n.id,cestId:null===(i=f.CEST)||void 0===i?void 0:i.id,origemId:null===(s=f.origem)||void 0===s?void 0:s.id,cstId:null===(o=f.CST)||void 0===o?void 0:o.id,anpId:null===(c=f.ANP)||void 0===c?void 0:c.id,csosnId:null===(l=f.CSOSN)||void 0===l?void 0:l.id,cstIPIId:null===(u=f.CSTIPI)||void 0===u?void 0:u.id,cstPISId:null===(d=f.CSTPIS)||void 0===d?void 0:d.id,cstCOFINSId:null===(p=f.CSTCOFINS)||void 0===p?void 0:p.id},e.next=5,b(t);case 5:return e.t2=e.sent,e.abrupt("return",{values:e.t0,ids:e.t1,IBSTaxRegime:e.t2});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"2e81":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r={EXPENSE:1,REVENUE:2,EXPENSE_AND_REVENUE:3}},"2f6f":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));var r="05",n="90"},"371b":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Accordion",{attrs:{id:"info-calc",title:"IMPOSTOS",rightTitle:"Total da Nota "+e.valorReal(e.taxCalc.vNF)}},[a("b-row",{staticClass:"row-padding align-items-end"},[a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Base Cálc. ICMS:")]),a("InputMoney",{attrs:{"aria-required":"true",disabled:"",precision:2,prefix:!1,value:e.valorReal(e.taxCalc.vBC)}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Valor do ICMS:")]),a("InputMoney",{attrs:{"aria-required":"true",disabled:"",prefix:!1,precision:2,value:e.valorReal(e.taxCalc.vICMS)}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Base Cálc. ICMS ST:")]),a("InputMoney",{attrs:{"aria-required":"true",disabled:"",prefix:!1,precision:2,value:e.valorReal(e.taxCalc.vBCST)}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Valor do ICMS ST:")]),a("InputMoney",{attrs:{"aria-required":"true",disabled:"",prefix:!1,precision:2,value:e.valorReal(e.taxCalc.vICMSST)}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("ICMS Desonerado:")]),a("InputMoney",{attrs:{"aria-required":"true",disabled:"",prefix:!1,precision:2,value:e.valorReal(e.taxCalc.vICMSDeson)}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Valor FCP ST:")]),a("InputMoney",{attrs:{"aria-required":"true",disabled:"",prefix:!1,precision:2,value:e.valorReal(e.taxCalc.vFCPST)}})],1)],1),a("b-row",{staticClass:"row-padding align-items-end pt-0"},[a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Desconto:")]),a("InputMoney",{attrs:{"aria-required":"true",prefix:!1,precision:2,onKeyup:e.vDescDebounce},model:{value:e.taxCalc.vDesc,callback:function(t){e.$set(e.taxCalc,"vDesc",t)},expression:"taxCalc.vDesc"}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Frete:")]),a("InputMoney",{attrs:{"aria-required":"true",prefix:!1,precision:2,onKeyup:e.attributesDebounce},model:{value:e.taxCalc.vFrete,callback:function(t){e.$set(e.taxCalc,"vFrete",t)},expression:"taxCalc.vFrete"}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Seguro:")]),a("InputMoney",{attrs:{"aria-required":"true",prefix:!1,precision:2,onKeyup:e.attributesDebounce},model:{value:e.taxCalc.vSeg,callback:function(t){e.$set(e.taxCalc,"vSeg",t)},expression:"taxCalc.vSeg"}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Outras Despesas:")]),a("InputMoney",{attrs:{"aria-required":"true",prefix:!1,precision:2,onKeyup:e.attributesDebounce},model:{value:e.taxCalc.vOutro,callback:function(t){e.$set(e.taxCalc,"vOutro",t)},expression:"taxCalc.vOutro"}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Valor do IPI:")]),a("InputMoney",{attrs:{"aria-required":"true",disabled:"",prefix:!1,precision:2,value:e.valorReal(e.taxCalc.vIPI)}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Total dos Produtos:")]),a("InputMoney",{attrs:{"aria-required":"true",value:e.valorReal(e.taxCalc.vProd),disabled:"",precision:2,"aria-placeholder":"Informe um produto"}})],1)],1),a("b-row",{staticClass:"row-padding justify-content-md-end"},[a("b-col",{attrs:{md:"6",lg:"2"}},[a("Label",[e._v("Total da Nota:")]),a("InputMoney",{attrs:{"aria-required":"true",disabled:"",precision:2,value:e.valorReal(e.taxCalc.vNF)}})],1)],1),a("IBSRegimeTaxesData",{attrs:{IbsTaxRegimeTotals:e.taxCalc.IBSTaxRegime}})],1)},n=[],i=(a("96cf"),a("1da1")),s=a("5530"),o=a("2af9"),c=a("2127"),l=a("2f62"),u=a("0ab8"),d=a("8fc5"),p=a("2ef0"),f=a("bc24"),m={name:"taxCalc",mixins:[d["a"]],components:{Label:c["m"],Accordion:o["a"],InputMoney:c["j"],IBSRegimeTaxesData:f["a"]},computed:Object(s["a"])({},Object(l["d"])("purchase",["taxCalc"])),created:function(){var e=this;this.vDescDebounce=p["debounce"](Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.totalCalcPurchase({calcTypes:[u["b"].TOTAL_DESC_BASED_ON_TOTAL,u["b"].TOTAL_NF,u["b"].TOTAL_TAX_REGIME]});case 2:case"end":return t.stop()}}),t)}))),1e3),this.attributesDebounce=p["debounce"](Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.totalCalcPurchase({calcTypes:[u["b"].TOTAL_COMMON,u["b"].TOTAL_NF,u["b"].TOTAL_TAX_REGIME]});case 2:case"end":return t.stop()}}),t)}))),1e3)},methods:Object(s["a"])({},Object(l["b"])("purchase",["totalCalcPurchase"]))},b=m,v=a("2877"),h=Object(v["a"])(b,r,n,!1,null,null,null);t["a"]=h.exports},"3c47":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Accordion",{attrs:{error:e.$v.payments.$error,id:"payments",title:"FORMA DE PAGAMENTO"}},[a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{md:"6"}},[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("SelectWithSearch",{attrs:{labelBusca:"name",label:"Forma de Pagamento",placeholder:"Pesquise a forma de pagamento",inputClass:"search-product",error:e.$v.payments.paymentModeCollection.$error,options:e.paymentCollection,disabled:e.hasNoneInPaymentModeCollection||this.editPayment,change:e.changePaymentSelected},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" ")])]}}]),model:{value:e.payments.payment,callback:function(t){e.$set(e.payments,"payment",t)},expression:"payments.payment"}},[a("template",{slot:"no-options"},[e._v(" Nenhum pagamento encontrado ")])],2)],1)],1),e.isValidPayment?a("b-row",{staticClass:"table-installments mt-4"},[a("b-col",{attrs:{md:"12"}},[a("InstallmentTable",{attrs:{payment:e.payments}})],1)],1):e._e(),e.editPayment?e._e():a("b-row",{staticClass:"row-padding mt-2"},[e.isValidPayment?a("Button",{staticClass:"text-center",attrs:{align:"center",type:"success",fullWidth:!0},on:{click:function(t){return e.setPaymentModeCollection()}}},[e._v(" Adicionar ")]):e._e()],1),e.editPayment?a("b-row",{staticClass:"row-padding mt-2"},[a("b-col",{attrs:{md:"6"}},[a("Button",{staticClass:"text-center",attrs:{align:"center",type:"success",fullWidth:!0},on:{click:function(t){return e.saveEditPaymentModeCollection()}}},[e._v(" Alterar ")])],1),a("b-col",{attrs:{md:"6"}},[a("Button",{staticClass:"text-center",attrs:{align:"center",type:"error",fullWidth:!0},on:{click:function(t){return e.cancelEditPaymentModeCollection()}}},[e._v(" Cancelar ")])],1)],1):e._e()],1),a("b-col",{attrs:{md:"6"}},[a("b-row",[a("b-col",{attrs:{md:"12",lg:"6"}},[a("InputMoney",{attrs:{labelBold:"",label:"Valor R$:",id:"value",precision:2,onKeyup:e.changePaymentValue},model:{value:e.payments.payment.value,callback:function(t){e.$set(e.payments.payment,"value",t)},expression:"payments.payment.value"}})],1),a("b-col",{attrs:{md:"12",lg:"6"}},[a("Label",[e._v("Conta")]),a("SelectWithSearch",{attrs:{labelBusca:"name",placeholder:"Selecione uma conta",inputClass:"search-account",disabled:!e.isValidPayment,options:e.accountCollection,clearable:!1,change:e.changeAccountSelected},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" ")])]}}]),model:{value:e.payments.payment.account,callback:function(t){e.$set(e.payments.payment,"account",t)},expression:"payments.payment.account"}},[a("template",{slot:"no-options"},[e._v(" Nenhuma conta encontrada ")])],2)],1),a("b-col",{staticClass:"mt-3",attrs:{md:"12"}},[a("Label",[e._v("Informações Complementares:")]),a("b-textarea",{staticClass:"input",model:{value:e.purchase.observation,callback:function(t){e.$set(e.purchase,"observation",t)},expression:"purchase.observation"}})],1),a("b-col",{staticClass:"mt-3",attrs:{md:"12"}},[a("SelectCategory",{attrs:{disabled:!e.isValidPayment,types:[e.categoryEnum.EXPENSE,e.categoryEnum.EXPENSE_AND_REVENUE]},model:{value:e.payments.payment.category,callback:function(t){e.$set(e.payments.payment,"category",t)},expression:"payments.payment.category"}})],1)],1)],1)],1),a("b-row",{staticClass:"row-padding",attrs:{"align-h":"end"}},[a("b-col",{staticClass:"mt-2",attrs:{md:"6"}},[a("b-row",{attrs:{"align-h":"end"}},[a("b-col",{attrs:{md:"12",lg:"7",align:"right"}},[a("strong",[e._v("Total Restante:")]),e._v(" R$ "+e._s(e.valorReal(e.payments.remainder))+" ")]),a("b-col",{attrs:{md:"12",lg:"5",align:"right"}},[a("strong",[e._v("Total:")]),e._v(" R$ "+e._s(e.valorReal(e.taxCalc.vNF))+" ")])],1)],1)],1),e.payments.paymentModeCollection.length?a("b-row",{staticClass:"form-group row-padding"},[a("b-col",{staticClass:"busca"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[e._v("Pagamento")]),a("th",[e._v("Valor")]),a("th")])]),a("tbody",e._l(e.payments.paymentModeCollection,(function(t,r){return a("tr",{key:"payment"+r},[a("td",[e._v(e._s(t.name))]),a("td",[e._v("R$ "+e._s(e.valorReal(t.value)))]),a("td",{attrs:{align:"right"}},[e.isNoneByString(t.name)?e._e():a("a",{staticClass:"edit-payment",attrs:{href:"javascript:"},on:{click:function(t){return e.editPaymentModeCollection(r)}}},[a("Edit",{attrs:{title:"Editar"}})],1),a("a",{staticClass:"remove-payment",attrs:{href:"javascript:"},on:{click:function(t){return e.removePaymentModeCollection(r)}}},[a("Close",{attrs:{title:"Excluir"}})],1)])])})),0)])])],1):e._e()],1)},n=[],i=(a("7db0"),a("d81d"),a("13d5"),a("a434"),a("d3b7"),a("3ca3"),a("ddb0"),a("5530")),s=(a("96cf"),a("1da1")),o=a("2af9"),c=a("2ef0"),l=a.n(c),u=a("2f62"),d=a("7eb5"),p=a("d902"),f=a("8fc5"),m=a("a500"),b=a("2127"),v=a("ab09"),h=a("b5ae"),C=a("2e81"),S=a("2f6f"),g={name:"payment",components:{Accordion:o["a"],SelectWithSearch:b["r"],Close:d["a"],Edit:p["a"],Button:b["a"],InputMoney:b["j"],InstallmentTable:v["c"],Label:b["m"],SelectCategory:o["x"]},mixins:[f["a"],m["a"]],validations:{payments:{paymentModeCollection:{required:h["required"]}}},data:function(){return{indexEdit:null,editPayment:null,categoryEnum:C["a"]}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.payments.payment=[],t.next=3,e.setInitialCollections();case 3:e.setDefaultCategory(),e.setDefaultAccount();case 5:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(u["d"])("payment",["paymentCollection"])),Object(u["d"])("category",["categoryCollection"])),Object(u["d"])("account",["accountCollection"])),Object(u["d"])("purchase",["payments","taxCalc","purchase"])),{},{isValidPayment:function(){var e;return this.payments.payment.paymentModeId&&this.valorUS(this.payments.payment.value)>0&&this.payments.remainder>0&&this.valorUS(this.payments.payment.value)<=this.payments.remainder&&(null===(e=this.payments.payment.paymentType)||void 0===e?void 0:e.tPag)!==S["a"]||this.editPayment},hasNoneInPaymentModeCollection:function(){return!!this.payments.paymentModeCollection.find((function(e){return 1===e.type}))}}),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(u["b"])("payment",["setPaymentCollection"])),Object(u["b"])("account",["setAccountCollection"])),Object(u["b"])("category",["setCategoryCollection"])),Object(u["b"])("purchase",["setRemainder","setPayment","setInstallmentsValues","setInstallmentsDates"])),{},{setInitialCollections:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.setPaymentCollection(),e.setAccountCollection()]);case 2:case"end":return t.stop()}}),t)})))()},setDefaultCategory:function(){this.payments.payment.category=this.categoryCollection.find((function(e){return e.isDefault}))},isNoneByString:function(e){var t="Nenhum";return e===t},setDefaultAccount:function(){this.payments.payment.account=this.accountCollection.find((function(e){return e.isDefault}))},setRemainderToValue:function(){this.payments.payment.value=this.payments.remainder},changePaymentValue:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.calculateInstallments(e.payments.payment,e.valorUS(e.payments.payment.value)),t.next=3,e.setInstallmentsValues(a);case 3:return t.next=5,e.setInstallmentsDates(a);case 5:case"end":return t.stop()}}),t)})))()},changePaymentSelected:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,o,c,l,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e||(null===(r=e.paymentType)||void 0===r?void 0:r.tPag)===S["a"]){a.next=13;break}return t.setDefaultAccount(),s=t.payments.remainder,o=t.payments.payment,c=o.account,l=o.category,u=Object(i["a"])(Object(i["a"])({},e),{},{account:null!==(n=e.account)&&void 0!==n?n:c,category:l,id:void 0,value:s,paymentModeId:e.id}),d=t.calculateInstallments(u,u.value),a.next=8,t.setPayment(u);case 8:return a.next=10,t.setInstallmentsValues(d);case 10:return a.next=12,t.setInstallmentsDates(d);case 12:return a.abrupt("return");case 13:t.payments.range=[],t.editPayment=!1,t.payments.payment=[],t.setDefaultCategory(),t.setDefaultAccount();case 18:case"end":return a.stop()}}),a)})))()},changeAccountSelected:function(e){e&&(this.payments.payment.account=e)},changeCategorySelected:function(e){e&&(this.payments.payment.category=e)},setDefaultFields:function(){var e=this.payments.paymentModeCollection;e.length||this.setPaymentModeToNone()},setPaymentModeToNone:function(){var e=this.paymentCollection.find((function(e){return 1===e.type})),t=Object(i["a"])(Object(i["a"])({},e),{},{id:void 0,value:0,paymentModeId:e.id});this.payments.paymentModeCollection.push(t),this.payments.payment={},this.payments.payment.account={},this.payments.payment.category={},this.payments.range=[],this.payments.edited=!0},setPaymentModeCollection:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.payments.payment.value=e.calcTotalRange(e.payments.range),Array.isArray(e.payments.range)&&e.payments.range.length&&(e.payments.payment.range=e.payments.range.map((function(t){return{value:e.valorUS(t.value),date:e.$moment(t.date).format("YYYY-MM-DD")}}))),e.payments.paymentModeCollection.push(e.payments.payment),e.payments.payment=[],e.payments.range=[],e.payments.edited=!0,t.next=8,e.setRemainder();case 8:return t.next=10,e.setRemainderToValue();case 10:case"end":return t.stop()}}),t)})))()},cancelEditPaymentModeCollection:function(){this.payments.payment={},this.payments.range=[],this.editPayment=!1,this.indexEdit=null},removePaymentModeCollection:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.payments.paymentModeCollection.splice(e,1),t.payments.edited=!0,a.next=4,t.setRemainder();case 4:return a.next=6,t.setRemainderToValue();case 6:case"end":return a.stop()}}),a)})))()},editPaymentModeCollection:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=l.a.cloneDeep(t.payments.paymentModeCollection),t.indexEdit=e,t.editPayment=!0,a.next=5,t.setPayment(r[e]);case 5:return a.next=7,t.setInstallmentsValues(r[e].range);case 7:return a.next=9,t.setInstallmentsDates(r[e].range);case 9:case"end":return a.stop()}}),a)})))()},saveEditPaymentModeCollection:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.editPayment=!1,t.next=3,e.removePaymentModeCollection(e.indexEdit);case 3:return t.next=5,e.setPaymentModeCollection();case 5:e.indexEdit=null;case 6:case"end":return t.stop()}}),t)})))()},calcTotalRange:function(e){var t=this;return e.reduce((function(e,a){return e+t.valorUS(a.value)}),0)}})},O=g,I=(a("fdc7"),a("2877")),P=Object(I["a"])(O,r,n,!1,null,null,null);t["a"]=P.exports},4069:function(e,t,a){var r=a("44d2");r("flat")},"48c1":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("b-row",{staticClass:"row-padding title"},[e._v("Atenção!")]),a("b-row",{staticClass:"row-padding"},[e._v(" A Zucchetti está acompanhando de perto os movimentos da Reforma Tributária e com o objetivo de tornar esse processo de transição mais simples e claro para você, adicionamos abaixo campos que simulam a nova tributação que entrará em vigor com a Reforma tributária. Os campos apresentados são apenas para exemplos e poderão sofrer alterações conforme novas definições legais. ")])],1)},n=[],i={name:"IBSRegimeFormMessage"},s=i,o=(a("75d7"),a("2877")),c=Object(o["a"])(s,r,n,!1,null,"61cad113",null);t["a"]=c.exports},"4d63":function(e,t,a){var r=a("83ab"),n=a("da84"),i=a("94ca"),s=a("7156"),o=a("9bf2").f,c=a("241c").f,l=a("44e7"),u=a("ad6d"),d=a("9f7f"),p=a("6eeb"),f=a("d039"),m=a("69f3").set,b=a("2626"),v=a("b622"),h=v("match"),C=n.RegExp,S=C.prototype,g=/a/g,O=/a/g,I=new C(g)!==g,P=d.UNSUPPORTED_Y,T=r&&i("RegExp",!I||P||f((function(){return O[h]=!1,C(g)!=g||C(O)==O||"/a/i"!=C(g,"i")})));if(T){var B=function(e,t){var a,r=this instanceof B,n=l(e),i=void 0===t;if(!r&&n&&e.constructor===B&&i)return e;I?n&&!i&&(e=e.source):e instanceof B&&(i&&(t=u.call(e)),e=e.source),P&&(a=!!t&&t.indexOf("y")>-1,a&&(t=t.replace(/y/g,"")));var o=s(I?new C(e,t):C(e,t),r?this:S,B);return P&&a&&m(o,{sticky:a}),o},x=function(e){e in B||o(B,e,{configurable:!0,get:function(){return C[e]},set:function(t){C[e]=t}})},y=c(C),F=0;while(y.length>F)x(y[F++]);S.constructor=B,B.prototype=S,p(n,"RegExp",B)}b("RegExp")},"6d1b":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Accordion",{attrs:{error:e.$v.supplierInformation.supplier.$error,id:"supplier",title:"FORNECEDOR"}},[a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{md:"5"}},[a("SelectWithSearch",{ref:"searchSupplier",attrs:{label:"Pesquisar Fornecedor",placeholder:"Pesquise o Nome/CPF/CNPJ",error:e.$v.supplierInformation.supplier.$error,options:e.supplierCollection,change:e.changeSupplierSelected,search:e.searchSupplier},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" "),a("br"),e._v(" CPF/CNPJ "+e._s(t.data.identificationFormatted)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" ")])]}}]),model:{value:e.supplierInformation.supplier,callback:function(t){e.$set(e.supplierInformation,"supplier",t)},expression:"supplierInformation.supplier"}},[a("template",{slot:"no-options"},[e._v(" Nenhum fornecedor encontrado ")])],2)],1),a("b-col",{attrs:{md:"3"}},[a("Label",[e._v("CNPJ:")]),a("b-form-input",{attrs:{value:e.supplierInformation.supplier.identificationFormatted,disabled:""}})],1),a("b-col",{attrs:{md:"2"}},[a("Label",[e._v("IE:")]),a("b-form-input",{attrs:{disabled:""},model:{value:e.supplierInformation.supplier.stateCode,callback:function(t){e.$set(e.supplierInformation.supplier,"stateCode",t)},expression:"supplierInformation.supplier.stateCode"}})],1),a("b-col",{attrs:{md:"2"}},[a("Label",[e._v("CEP:")]),a("b-form-input",{attrs:{value:e.formatCep(e.supplierInformation.supplier.address.zipCode.zipCode),disabled:""}})],1)],1),a("div",[a("div",[a("b-row",{staticClass:"row-padding pt-0"},[a("b-col",{attrs:{md:"5"}},[a("Label",[e._v("Endereço:")]),a("b-form-input",{attrs:{disabled:""},model:{value:e.completeAddress,callback:function(t){e.completeAddress=t},expression:"completeAddress"}})],1),a("b-col",{attrs:{md:"3"}},[a("Label",[e._v("Bairro/Distrito:")]),a("b-form-input",{attrs:{disabled:""},model:{value:e.supplierInformation.supplier.address.neighbourhood,callback:function(t){e.$set(e.supplierInformation.supplier.address,"neighbourhood",t)},expression:"supplierInformation.supplier.address.neighbourhood"}})],1),a("b-col",{attrs:{md:"3"}},[a("Label",[e._v("Município:")]),a("b-form-input",{attrs:{disabled:""},model:{value:e.supplierInformation.supplier.address.zipCode.city.name,callback:function(t){e.$set(e.supplierInformation.supplier.address.zipCode.city,"name",t)},expression:"supplierInformation.supplier.address.zipCode.city.name"}})],1),a("b-col",{attrs:{md:"1"}},[a("Label",[e._v("UF:")]),a("b-form-input",{attrs:{disabled:""},model:{value:e.supplierInformation.supplier.address.zipCode.city.state.acronym,callback:function(t){e.$set(e.supplierInformation.supplier.address.zipCode.city.state,"acronym",t)},expression:"supplierInformation.supplier.address.zipCode.city.state.acronym"}})],1)],1)],1),a("b-row",{staticClass:"row-padding pt-0"},[a("b-col",{attrs:{md:"3"}},[a("Label",[e._v("Fone Comercial:")]),a("b-form-input",{attrs:{disabled:""},model:{value:e.phoneFormatted,callback:function(t){e.phoneFormatted=t},expression:"phoneFormatted"}})],1)],1)],1)],1)},n=[],i=(a("99af"),a("5530")),s=(a("96cf"),a("1da1")),o=a("2af9"),c=a("2f62"),l=(a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),function(e){var t=e.toString().replace(/\D/g,""),a="(\\d{2})(\\d{".concat(t.length>10?5:4,"})(\\d)"),r=new RegExp(a,"gi");return t.replace(r,"($1) $2-$3")}),u=a("2127"),d=a("b5ae"),p=a("8fc5"),f={name:"Supplier",mixins:[p["a"]],components:{Accordion:o["a"],SelectWithSearch:u["r"],Label:u["m"]},validations:{supplierInformation:{supplier:{id:{required:d["required"]}}}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setSupplierCollection();case 2:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["d"])("purchase",["supplierInformation","taxInformation"])),Object(c["d"])("person",["supplierCollection"])),Object(c["c"])("purchase",["getDefaultAddressState","getDefaultPhoneState","getDefaultSupplierState"])),{},{completeAddress:function(){var e,t,a=this.supplierInformation.supplier.address.street,r=this.supplierInformation.supplier.address,n=r.number,i=r.complement;return n&&(n=", ".concat(n)),i&&(i=" - ".concat(i)),"".concat(null!==a&&void 0!==a?a:"").concat(null!==(e=n)&&void 0!==e?e:"").concat(null!==(t=i)&&void 0!==t?t:"")},phoneFormatted:function(){if(!this.supplierInformation.supplier.phone)return"";var e=this.supplierInformation.supplier.phone,t=e.areaCode,a=e.number,r="".concat(null!==t&&void 0!==t?t:"").concat(null!==a&&void 0!==a?a:"");return l(r)}}),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["b"])("person",["setSupplierCollection"])),Object(c["b"])("purchase",["setSupplier","setMatchedCfopForPurchaseTaxInformation"])),{},{searchSupplier:function(){var e=arguments,t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:null,!r){a.next=4;break}return a.next=4,t.setSupplierCollection(r);case 4:case"end":return a.stop()}}),a)})))()},changeSupplierSelected:function(e){if(e){var t,a,r,n=Object(i["a"])(Object(i["a"])({},e),{},{address:null!==(t=null===e||void 0===e?void 0:e.addressCollection[0])&&void 0!==t?t:this.getDefaultAddressState,phone:null!==(a=null===e||void 0===e?void 0:e.phoneCollection[0])&&void 0!==a?a:this.getDefaultPhoneState});return null!==(r=n.address)&&void 0!==r&&r.zipCode||(n.address.zipCode={city:{name:"",state:{acronym:""}}}),this.buildTaxInformationCfop(e),this.setSupplier(n),void this.$root.$emit("bv::toggle::collapse","products")}this.setSupplier(this.getDefaultSupplierState)},buildTaxInformationCfop:function(e){this.taxInformation.natureza.cfop.id&&this.setMatchedCfopForPurchaseTaxInformation({supplierId:e.id,cfopIdPurchaseHeader:this.taxInformation.natureza.cfop.id})}}),watch:{supplierInformation:{handler:function(){},deep:!0}}},m=f,b=a("2877"),v=Object(b["a"])(m,r,n,!1,null,null,null);t["a"]=v.exports},"6eba":function(e,t,a){},"75d7":function(e,t,a){"use strict";a("0123")},8219:function(e,t,a){},"88da":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Accordion",{attrs:{id:"linkedDocuments",title:"DOCUMENTOS VINCULADOS"}},[a("b-row",{staticClass:"row-padding pb-0"},[a("b-col",{attrs:{md:"4"}},[a("SelectWithSearch",{ref:"searchLinkedDocument",attrs:{label:"Número / Modelo / Série",labelBusca:"number",placeholder:"Pesquisar...",options:e.nfeAndPurchaseCollection,search:e.searchLinkedDocument,change:e.changeLinkedDocument},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(e.formatLinkedDocument(t))+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(e.formatLinkedDocument(t))+" ")])]}}]),model:{value:e.linkedDocument,callback:function(t){e.linkedDocument=t},expression:"linkedDocument"}},[a("template",{slot:"no-options"},[e._v("Nenhum resultado encontrado")])],2)],1),a("b-col",{attrs:{md:"7"}},[a("Label",[e._v("Chave:")]),a("Input",{attrs:{id:"docKey",placeholder:"Informe a chave de acesso",mask:[e.docKeyMask]},model:{value:e.linkedDocument.docKey,callback:function(t){e.$set(e.linkedDocument,"docKey",t)},expression:"linkedDocument.docKey"}})],1),a("b-col",{attrs:{md:"1"}},[a("br"),a("Button",{staticClass:"pl-4 pr-4",attrs:{type:"success",disabled:e.addingLinkedDocument},on:{click:function(t){return e.setLinkedDocumentCollection()}}},[e.addingLinkedDocument?a("b-spinner",{attrs:{small:""}}):a("PlusThick",{staticClass:"mr-0",attrs:{title:"Adicionar"}})],1)],1)],1),a("div",{staticClass:"border-bottom m-2 mt-3 mb-3"}),e.linkedDocuments.linkedDocumentCollection.length?a("b-row",{staticClass:"table-list-products row-padding pt-0"},[a("b-col",{staticClass:"busca"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{md:"4",lg:"2"}},[e._v("Número")]),a("th",{attrs:{md:"4",lg:"2"}},[e._v("Modelo")]),a("th",{attrs:{md:"4",lg:"2"}},[e._v("Série")]),a("th",{attrs:{md:"4",lg:"5"}},[e._v("Chave")]),a("th",{staticClass:"text-center",attrs:{md:"6",lg:"1"}})])]),a("tbody",e._l(e.linkedDocuments.linkedDocumentCollection,(function(e,t){return a("LinkedDocument",{key:t,attrs:{id:t,linkedDocument:e}})})),1)])])],1):e._e()],1)},n=[],i=(a("99af"),a("96cf"),a("1da1")),s=a("5530"),o=a("2af9"),c=a("2f62"),l=a("2127"),u=a("8fc5"),d=a("ef25"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{key:e.id},[a("td",{staticClass:"col-2"},[e._v(e._s(e.number))]),a("td",{staticClass:"col-2"},[e._v(e._s(e.model))]),a("td",{staticClass:"col-2"},[e._v(e._s(e.serie))]),a("td",{staticClass:"col-5"},[e._v(e._s(e.linkedDocument.docKey))]),a("td",{staticClass:"col-1"},[a("a",{staticClass:"remove-linkedDocument text-muted",attrs:{href:"javascript:"},on:{click:function(t){return e.removeLinkedDocumentCollection(e.id)}}},[a("Close",{attrs:{title:"Excluir"}})],1)])])},f=[],m=(a("a434"),a("7eb5")),b=a("b8f8"),v={name:"LinkedDocument",components:{Close:m["a"]},props:["linkedDocument","id"],computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])("purchase",["linkedDocuments"])),{},{model:function(){return this.linkedDocument.docKey.substr(20,2)},serie:function(){return this.model===b["a"].SAT?"":this.linkedDocument.docKey.substr(22,3)},number:function(){return this.model===b["a"].SAT?this.linkedDocument.docKey.substr(31,6):this.linkedDocument.docKey.substr(25,9)}}),methods:{removeLinkedDocumentCollection:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.linkedDocuments.linkedDocumentCollection.splice(e,1);case 1:case"end":return a.stop()}}),a)})))()}}},h=v,C=a("2877"),S=Object(C["a"])(h,p,f,!1,null,null,null),g=S.exports,O={name:"LinkedDocuments",mixins:[u["a"]],components:{Accordion:o["a"],SelectWithSearch:l["r"],Button:l["a"],Label:l["m"],Input:l["g"],PlusThick:d["a"],LinkedDocument:g},data:function(){return{docKeyMask:"############################################",linkedDocument:[],addingLinkedDocument:!1,nfeAndPurchaseCollection:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])("nfe",["nfeCollection"])),Object(c["d"])("purchase",["linkedDocuments","purchaseCollection"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["b"])("nfe",["setNfeCollection"])),Object(c["b"])("purchase",["setPurchaseCollection","setNfeAndPurchaseCollection"])),{},{formatLinkedDocument:function(e){return"".concat(e.data.number," / ").concat(e.data.model," / ").concat(e.data.serie||"")},changeLinkedDocument:function(e){return e?(this.linkedDocument=Object(s["a"])({},e),!0):this.setEmptyLinkedDocument()},searchLinkedDocument:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.setPurchaseCollection(e);case 2:return a.next=4,t.setNfeCollection({search:e});case 4:return a.next=6,t.setNfeAndPurchaseCollection();case 6:t.nfeAndPurchaseCollection=a.sent;case 7:case"end":return a.stop()}}),a)})))()},setEmptyLinkedDocument:function(){this.linkedDocument=[]},toggleAddingLinkedDocumentLoader:function(){this.addingLinkedDocument=!this.addingLinkedDocument},setLinkedDocumentCollection:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.toggleAddingLinkedDocumentLoader(),a=e.linkedDocuments.linkedDocumentCollection,a.push(Object(s["a"])(Object(s["a"])({},e.linkedDocument),{},{edited:!1,id:void 0})),e.setEmptyLinkedDocument(),e.toggleAddingLinkedDocumentLoader();case 5:case"end":return t.stop()}}),t)})))()}})},I=O,P=(a("e4e6"),Object(C["a"])(I,r,n,!1,null,null,null));t["a"]=P.exports},9129:function(e,t,a){var r=a("23e7");r({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},9835:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Accordion",{attrs:{error:e.transport.error,id:"info-transport",title:"TRANSPORTADOR / VOLUMES"}},[a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"6",md:"4"}},[a("SelectWithSearch",{ref:"searchShippingCompany",attrs:{label:"Razão Social",placeholder:"Pesquise uma transportadora",options:e.shippingCompanyCollection,change:e.changeShippingCompanySelected,search:e.searchShippingCompany},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" "),a("br"),e._v(" CPF/CNPJ "+e._s(t.data.identificationFormatted)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" ")])]}}]),model:{value:e.transport.shippingCompany,callback:function(t){e.$set(e.transport,"shippingCompany",t)},expression:"transport.shippingCompany"}},[a("template",{slot:"no-options"},[e._v(" Nenhuma transportadora encontrada ")])],2)],1),a("b-col",{attrs:{sm:"6",md:"3"}},[a("Label",[e._v("CPF/CNPJ:")]),a("b-form-input",{attrs:{value:e.transport.shippingCompany.identificationFormatted,disabled:""}})],1),a("b-col",{attrs:{sm:"6",md:"2"}},[a("SelectWithSearch",{ref:"searchFreightCollection",attrs:{label:"Frete",labelBusca:"name",placeholder:"Pesquise o frete",clearable:!1,disabled:!e.transport.shippingCompany.name,options:e.freightCollection,change:e.changeFreightSelected,search:e.searchFreight},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.id)+" - "+e._s(t.data.name)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.id)+" ")])]}}]),model:{value:e.transport.freight,callback:function(t){e.$set(e.transport,"freight",t)},expression:"transport.freight"}},[a("template",{slot:"no-options"},[e._v(" Selecione um tipo de frete ")])],2)],1),a("b-col",{attrs:{sm:"6",md:"3"}},[a("SelectWithSearch",{attrs:{label:"Veículo",labelBusca:"placa",placeholder:"Pesquise o veículo",disabled:!e.transport.shippingCompany.name,options:e.vehicleCollection,change:e.changeVehicle,clearable:!1},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.placa)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.placa)+" ")])]}}]),model:{value:e.transport.vehicle,callback:function(t){e.$set(e.transport,"vehicle",t)},expression:"transport.vehicle"}},[a("template",{slot:"no-options"},[e._v(" Nenhum veículo encontrado")])],2)],1)],1),a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{md:"12"}},[a("SelectWithSearch",{attrs:{label:"Endereço",labelBusca:"street",placeholder:"Pesquise o endereço",disabled:!e.transport.shippingCompany.name,options:e.addressCollection,change:e.changeAddress,clearable:!1},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.street)+", "+e._s(t.data.number)+", "+e._s(t.data.neighbourhood)+" ")])]}},{key:"selected",fn:function(t){return[t.data.street?a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.street)+", "+e._s(t.data.number)+", "+e._s(t.data.neighbourhood)+" ")]):a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.street)+" "+e._s(t.data.number)+" "+e._s(t.data.neighbourhood)+" ")])]}}]),model:{value:e.transport.address,callback:function(t){e.$set(e.transport,"address",t)},expression:"transport.address"}},[a("template",{slot:"no-options"},[e._v(" Nenhum endereço encontrado ")])],2)],1)],1),a("div",{staticClass:"divider"}),a("b-row",{staticClass:"row-padding align-items-end"},[a("b-col",{attrs:{sm:"6",md:"2"}},[a("InputQuantity",{ref:"amountVolume",attrs:{precision:0,max:19,id:"amountVolume",label:"Quantidade",inputClass:"form-control input",labelBold:""},model:{value:e.transport.volume.amountVolume,callback:function(t){e.$set(e.transport.volume,"amountVolume",t)},expression:"transport.volume.amountVolume"}})],1),a("b-col",{attrs:{sm:"6",md:"2"}},[a("Input",{ref:"species",attrs:{id:"species",label:"Espécie",inputClass:"form-control input",labelBold:""},model:{value:e.transport.volume.species,callback:function(t){e.$set(e.transport.volume,"species",t)},expression:"transport.volume.species"}})],1),a("b-col",{attrs:{sm:"6",md:"2"}},[a("Input",{ref:"brand",attrs:{id:"brand",label:"Marca",inputClass:"form-control input",labelBold:""},model:{value:e.transport.volume.brand,callback:function(t){e.$set(e.transport.volume,"brand",t)},expression:"transport.volume.brand"}})],1),a("b-col",{attrs:{sm:"6",md:"2"}},[a("InputQuantity",{ref:"grossWeight",attrs:{precision:3,id:"grossWeight",label:"Peso Bruto",inputClass:"form-control input",labelBold:""},model:{value:e.transport.volume.grossWeight,callback:function(t){e.$set(e.transport.volume,"grossWeight",t)},expression:"transport.volume.grossWeight"}})],1),a("b-col",{attrs:{sm:"6",md:"2"}},[a("InputQuantity",{ref:"netWeight",attrs:{precision:3,id:"netWeight",label:"Peso Líquido",inputClass:"form-control input",labelBold:""},model:{value:e.transport.volume.netWeight,callback:function(t){e.$set(e.transport.volume,"netWeight",t)},expression:"transport.volume.netWeight"}})],1),a("b-col",{attrs:{sm:"6",md:"2"}},[a("Input",{ref:"numeration",attrs:{id:"numeration",label:"Numeração",inputClass:"form-control input",labelBold:""},model:{value:e.transport.volume.numeration,callback:function(t){e.$set(e.transport.volume,"numeration",t)},expression:"transport.volume.numeration"}})],1)],1)],1)},n=[],i=(a("a4d3"),a("e01a"),a("7db0"),a("d3b7"),a("3ca3"),a("ddb0"),a("3835")),s=a("5530"),o=(a("96cf"),a("1da1")),c=a("2af9"),l=a("2f62"),u=a("2127"),d=a("8fc5"),p=9,f=1,m={name:"transport",mixins:[d["a"]],components:{Accordion:c["a"],SelectWithSearch:u["r"],Label:u["m"],InputQuantity:u["k"],Input:u["g"]},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.setShippingCompanyCollection(),e.setFreightCollection()]);case 2:if(null===(a=e.transport)||void 0===a||!a.id){t.next=6;break}return t.next=5,e.setPropsOnEdit();case 5:return t.abrupt("return");case 6:e.setDefaultFreight();case 7:case"end":return t.stop()}}),t)})))()},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["d"])("purchase",["transport"])),Object(l["d"])("person",["shippingCompanyCollection","vehicleCollection","addressCollection"])),Object(l["d"])("freight",["freightCollection"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["b"])("person",["setVehicleCollection","setShippingCompanyCollection","setAddressCollection"])),Object(l["b"])("purchase",["setShippingCompanyById"])),Object(l["b"])("freight",["setFreightCollection"])),{},{setPropsOnEdit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setShippingCompanyById(e.transport);case 2:return a=e.transport.shippingCompany,t.next=5,e.setAddressCollection(a);case 5:return t.next=7,e.setVehicleCollection(a);case 7:e.setFreight(),e.setVehicle();case 9:case"end":return t.stop()}}),t)})))()},setFreight:function(){var e,t=this;this.transport.id&&null!==(e=this.transport)&&void 0!==e&&e.freight&&(this.transport.freight=this.freightCollection.find((function(e){return t.transport.freight.id===e.id})))},setVehicle:function(){var e,t=this;this.transport.id&&null!==(e=this.transport)&&void 0!==e&&e.vehicle&&(this.transport.vehicle=this.vehicleCollection.find((function(e){return t.transport.vehicle.identification===e.description})))},searchShippingCompany:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:null,!r){a.next=4;break}return a.next=4,t.setShippingCompanyCollection(r);case 4:case"end":return a.stop()}}),a)})))()},changeShippingCompanySelected:function(e){if(e){var t;if(this.setAddressCollection(e),this.setVehicleCollection(e),this.transport.shippingCompany=e,this.transport.vehicle={},this.transport.address={},this.vehicleCollection){var a=Object(i["a"])(this.vehicleCollection,1),r=a[0];this.transport.vehicle=r}if(null!==(t=this.addressCollection)&&void 0!==t&&t.length){var n=this.addressCollection.find((function(e){return e.type===f}));this.transport.address=n}}else this.transport.shippingCompany=[],this.transport.vehicle=[],this.transport.address=[]},setDefaultFreight:function(){this.transport.freight=this.freightCollection.find((function(e){return e.id===p}))},searchFreight:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:null,!r){a.next=4;break}return a.next=4,t.setFreightCollection(r);case 4:case"end":return a.stop()}}),a)})))()},changeAddress:function(e){e&&(this.transport.address=e)},changeVehicle:function(e){e&&(this.transport.vehicle=e)},changeFreightSelected:function(e){e&&(this.transport.freight=e)}})},b=m,v=a("2877"),h=Object(v["a"])(b,r,n,!1,null,null,null);t["a"]=h.exports},"9aad":function(e,t,a){},"9dcd":function(e,t,a){var r;(function(n){"use strict";var i,s=20,o=1,c=1e6,l=1e6,u=-7,d=21,p=!1,f="[big.js] ",m=f+"Invalid ",b=m+"decimal places",v=m+"rounding mode",h=f+"Division by zero",C={},S=void 0,g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function O(){function e(t){var a=this;if(!(a instanceof e))return t===S?O():new e(t);if(t instanceof e)a.s=t.s,a.e=t.e,a.c=t.c.slice();else{if("string"!==typeof t){if(!0===e.strict&&"bigint"!==typeof t)throw TypeError(m+"value");t=0===t&&1/t<0?"-0":String(t)}I(a,t)}a.constructor=e}return e.prototype=C,e.DP=s,e.RM=o,e.NE=u,e.PE=d,e.strict=p,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function I(e,t){var a,r,n;if(!g.test(t))throw Error(m+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),n=t.length,r=0;r<n&&"0"==t.charAt(r);)++r;if(r==n)e.c=[e.e=0];else{for(;n>0&&"0"==t.charAt(--n););for(e.e=a-r-1,e.c=[],a=0;r<=n;)e.c[a++]=+t.charAt(r++)}return e}function P(e,t,a,r){var n=e.c;if(a===S&&(a=e.constructor.RM),0!==a&&1!==a&&2!==a&&3!==a)throw Error(v);if(t<1)r=3===a&&(r||!!n[0])||0===t&&(1===a&&n[0]>=5||2===a&&(n[0]>5||5===n[0]&&(r||n[1]!==S))),n.length=1,r?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(r=1===a&&n[t]>=5||2===a&&(n[t]>5||5===n[t]&&(r||n[t+1]!==S||1&n[t-1]))||3===a&&(r||!!n[0]),n.length=t,r)for(;++n[--t]>9;)if(n[t]=0,0===t){++e.e,n.unshift(1);break}for(t=n.length;!n[--t];)n.pop()}return e}function T(e,t,a){var r=e.e,n=e.c.join(""),i=n.length;if(t)n=n.charAt(0)+(i>1?"."+n.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)n="0"+n;n="0."+n}else if(r>0)if(++r>i)for(r-=i;r--;)n+="0";else r<i&&(n=n.slice(0,r)+"."+n.slice(r));else i>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&a?"-"+n:n}C.abs=function(){var e=new this.constructor(this);return e.s=1,e},C.cmp=function(e){var t,a=this,r=a.c,n=(e=new a.constructor(e)).c,i=a.s,s=e.s,o=a.e,c=e.e;if(!r[0]||!n[0])return r[0]?i:n[0]?-s:0;if(i!=s)return i;if(t=i<0,o!=c)return o>c^t?1:-1;for(s=(o=r.length)<(c=n.length)?o:c,i=-1;++i<s;)if(r[i]!=n[i])return r[i]>n[i]^t?1:-1;return o==c?0:o>c^t?1:-1},C.div=function(e){var t=this,a=t.constructor,r=t.c,n=(e=new a(e)).c,i=t.s==e.s?1:-1,s=a.DP;if(s!==~~s||s<0||s>c)throw Error(b);if(!n[0])throw Error(h);if(!r[0])return e.s=i,e.c=[e.e=0],e;var o,l,u,d,p,f=n.slice(),m=o=n.length,v=r.length,C=r.slice(0,o),g=C.length,O=e,I=O.c=[],T=0,B=s+(O.e=t.e-e.e)+1;for(O.s=i,i=B<0?0:B,f.unshift(0);g++<o;)C.push(0);do{for(u=0;u<10;u++){if(o!=(g=C.length))d=o>g?1:-1;else for(p=-1,d=0;++p<o;)if(n[p]!=C[p]){d=n[p]>C[p]?1:-1;break}if(!(d<0))break;for(l=g==o?n:f;g;){if(C[--g]<l[g]){for(p=g;p&&!C[--p];)C[p]=9;--C[p],C[g]+=10}C[g]-=l[g]}for(;!C[0];)C.shift()}I[T++]=d?u:++u,C[0]&&d?C[g]=r[m]||0:C=[r[m]]}while((m++<v||C[0]!==S)&&i--);return I[0]||1==T||(I.shift(),O.e--,B--),T>B&&P(O,B,a.RM,C[0]!==S),O},C.eq=function(e){return 0===this.cmp(e)},C.gt=function(e){return this.cmp(e)>0},C.gte=function(e){return this.cmp(e)>-1},C.lt=function(e){return this.cmp(e)<0},C.lte=function(e){return this.cmp(e)<1},C.minus=C.sub=function(e){var t,a,r,n,i=this,s=i.constructor,o=i.s,c=(e=new s(e)).s;if(o!=c)return e.s=-c,i.plus(e);var l=i.c.slice(),u=i.e,d=e.c,p=e.e;if(!l[0]||!d[0])return d[0]?e.s=-c:l[0]?e=new s(i):e.s=1,e;if(o=u-p){for((n=o<0)?(o=-o,r=l):(p=u,r=d),r.reverse(),c=o;c--;)r.push(0);r.reverse()}else for(a=((n=l.length<d.length)?l:d).length,o=c=0;c<a;c++)if(l[c]!=d[c]){n=l[c]<d[c];break}if(n&&(r=l,l=d,d=r,e.s=-e.s),(c=(a=d.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;a>o;){if(l[--a]<d[a]){for(t=a;t&&!l[--t];)l[t]=9;--l[t],l[a]+=10}l[a]-=d[a]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--p;return l[0]||(e.s=1,l=[p=0]),e.c=l,e.e=p,e},C.mod=function(e){var t,a=this,r=a.constructor,n=a.s,i=(e=new r(e)).s;if(!e.c[0])throw Error(h);return a.s=e.s=1,t=1==e.cmp(a),a.s=n,e.s=i,t?new r(a):(n=r.DP,i=r.RM,r.DP=r.RM=0,a=a.div(e),r.DP=n,r.RM=i,this.minus(a.times(e)))},C.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},C.plus=C.add=function(e){var t,a,r,n=this,i=n.constructor;if(e=new i(e),n.s!=e.s)return e.s=-e.s,n.minus(e);var s=n.e,o=n.c,c=e.e,l=e.c;if(!o[0]||!l[0])return l[0]||(o[0]?e=new i(n):e.s=n.s),e;if(o=o.slice(),t=s-c){for(t>0?(c=s,r=l):(t=-t,r=o),r.reverse();t--;)r.push(0);r.reverse()}for(o.length-l.length<0&&(r=l,l=o,o=r),t=l.length,a=0;t;o[t]%=10)a=(o[--t]=o[t]+l[t]+a)/10|0;for(a&&(o.unshift(a),++c),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=c,e},C.pow=function(e){var t=this,a=new t.constructor("1"),r=a,n=e<0;if(e!==~~e||e<-l||e>l)throw Error(m+"exponent");for(n&&(e=-e);;){if(1&e&&(r=r.times(t)),e>>=1,!e)break;t=t.times(t)}return n?a.div(r):r},C.prec=function(e,t){if(e!==~~e||e<1||e>c)throw Error(m+"precision");return P(new this.constructor(this),e,t)},C.round=function(e,t){if(e===S)e=0;else if(e!==~~e||e<-c||e>c)throw Error(b);return P(new this.constructor(this),e+this.e+1,t)},C.sqrt=function(){var e,t,a,r=this,n=r.constructor,i=r.s,s=r.e,o=new n("0.5");if(!r.c[0])return new n(r);if(i<0)throw Error(f+"No square root");i=Math.sqrt(+T(r,!0,!0)),0===i||i===1/0?(t=r.c.join(""),t.length+s&1||(t+="0"),i=Math.sqrt(t),s=((s+1)/2|0)-(s<0||1&s),e=new n((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+s)):e=new n(i+""),s=e.e+(n.DP+=4);do{a=e,e=o.times(a.plus(r.div(a)))}while(a.c.slice(0,s).join("")!==e.c.slice(0,s).join(""));return P(e,(n.DP-=4)+e.e+1,n.RM)},C.times=C.mul=function(e){var t,a=this,r=a.constructor,n=a.c,i=(e=new r(e)).c,s=n.length,o=i.length,c=a.e,l=e.e;if(e.s=a.s==e.s?1:-1,!n[0]||!i[0])return e.c=[e.e=0],e;for(e.e=c+l,s<o&&(t=n,n=i,i=t,l=s,s=o,o=l),t=new Array(l=s+o);l--;)t[l]=0;for(c=o;c--;){for(o=0,l=s+c;l>c;)o=t[l]+i[c]*n[l-c-1]+o,t[l--]=o%10,o=o/10|0;t[l]=o}for(o?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},C.toExponential=function(e,t){var a=this,r=a.c[0];if(e!==S){if(e!==~~e||e<0||e>c)throw Error(b);for(a=P(new a.constructor(a),++e,t);a.c.length<e;)a.c.push(0)}return T(a,!0,!!r)},C.toFixed=function(e,t){var a=this,r=a.c[0];if(e!==S){if(e!==~~e||e<0||e>c)throw Error(b);for(a=P(new a.constructor(a),e+a.e+1,t),e=e+a.e+1;a.c.length<e;)a.c.push(0)}return T(a,!1,!!r)},C.toJSON=C.toString=function(){var e=this,t=e.constructor;return T(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])},C.toNumber=function(){var e=+T(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(f+"Imprecise conversion");return e},C.toPrecision=function(e,t){var a=this,r=a.constructor,n=a.c[0];if(e!==S){if(e!==~~e||e<1||e>c)throw Error(m+"precision");for(a=P(new r(a),e,t);a.c.length<e;)a.c.push(0)}return T(a,e<=a.e||a.e<=r.NE||a.e>=r.PE,!!n)},C.valueOf=function(){var e=this,t=e.constructor;if(!0===t.strict)throw Error(f+"valueOf disallowed");return T(e,e.e<=t.NE||e.e>=t.PE,!0)},i=O(),i["default"]=i.Big=i,r=function(){return i}.call(t,a,t,e),void 0===r||(e.exports=r)})()},a2bf:function(e,t,a){"use strict";var r=a("e8b5"),n=a("50c4"),i=a("0366"),s=function(e,t,a,o,c,l,u,d){var p,f=c,m=0,b=!!u&&i(u,d,3);while(m<o){if(m in a){if(p=b?b(a[m],m,t):a[m],l>0&&r(p))f=s(e,t,p,n(p.length),f,l-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=p}f++}m++}return f};e.exports=s},aaea:function(e,t,a){"use strict";a("ee48")},ae7f:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Accordion",{attrs:{error:e.$v.products.$error,id:"products",title:"PRODUTOS"}},[a("b-row",{staticClass:"row-padding pb-0"},[a("b-col",{attrs:{md:"4",lg:"5"}},[a("SelectWithSearch",{ref:"searchProduct",attrs:{label:"Produto",labelBusca:"description",placeholder:"Pesquise um produto",filterBy:e.productFilter,error:e.$v.products.productOfPurchaseCollection.$error,options:e.productCollection,change:e.changeProduct,search:e.searchProduct},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.description)+" "),a("br"),e._v(" R$: "+e._s(e.valorReal(t.data.cost,e.decimalConfiguration.price))+" "),a("br"),e._v(" Qtd: "+e._s(e.valorReal(t.data.quantity,e.decimalConfiguration.quantity))+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.description)+" ")])]}}]),model:{value:e.product,callback:function(t){e.product=t},expression:"product"}},[a("template",{slot:"no-options"},[e._v("Nenhum produto encontrado")])],2)],1),a("b-col",{attrs:{md:"4",lg:"2"}},[a("InputQuantity",{ref:"quantityPurchased",attrs:{id:"quantityPurchased",label:"Quantidade:",inputClass:"form-control input",labelBold:"",max:13},model:{value:e.product.quantityPurchased,callback:function(t){e.$set(e.product,"quantityPurchased",t)},expression:"product.quantityPurchased"}})],1),a("b-col",{attrs:{md:"4",lg:"2"}},[a("InputMoney",{ref:"unitPrice",attrs:{id:"unitPrice",label:"Unitário:",inputClass:"form-control input",prefix:!1,labelBold:"",max:11},model:{value:e.product.price,callback:function(t){e.$set(e.product,"price",t)},expression:"product.price"}})],1),a("b-col",{attrs:{md:"6",lg:"2"}},[a("InputMoney",{ref:"quantityPurchased",attrs:{id:"quantityPurchased",label:"Total:",inputClass:"form-control input",value:e.round(e.product.totalPrice,e.decimalPrice),prefix:!1,labelBold:"",disabled:""}})],1),a("b-col",{attrs:{md:"6",lg:"1"}},[a("br"),a("Button",{staticClass:"pl-4 pr-4",attrs:{type:"success",disabled:!e.isValidProduct||e.addingProduct},on:{click:function(t){return e.setProductOfPurchaseCollection()}}},[e.addingProduct?a("b-spinner",{attrs:{small:""}}):a("PlusThick",{staticClass:"mr-0",attrs:{title:"Adicionar"}})],1)],1)],1),a("div",{staticClass:"border-bottom m-2 mt-3 mb-3"}),e.products.productOfPurchaseCollection.length?a("b-row",{staticClass:"table-list-products row-padding pt-0"},[a("b-col",{staticClass:"busca"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{md:"4",lg:"5"}},[e._v("Produto")]),a("th",{staticClass:"text-center",attrs:{md:"4",lg:"2"}},[e._v("Quantidade")]),a("th",{staticClass:"text-center",attrs:{md:"4",lg:"2"}},[e._v("CFOP")]),a("th",{staticClass:"text-center",attrs:{md:"4",lg:"2"}},[e._v("Unitário")]),a("th",{staticClass:"text-center",attrs:{md:"6",lg:"2"}},[e._v("Total")]),a("th",{staticClass:"text-center",attrs:{md:"6",lg:"1"}})])]),a("tbody",e._l(e.products.productOfPurchaseCollection,(function(e,t){return a("Product",{key:t,attrs:{id:t,product:e}})})),1)])])],1):e._e()],1)},n=[],i=(a("a4d3"),a("e01a"),a("caad"),a("b0c0"),a("2532"),a("3835")),s=a("5530"),o=(a("96cf"),a("1da1")),c=a("2ef0"),l=a.n(c),u=a("2af9"),d=a("2f62"),p=a("2127"),f=a("b5ae"),m=a("0ab8"),b=a("8fc5"),v=a("15aa"),h=a("ef25"),C=a("088f"),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{key:e.id},[a("td",{staticClass:"col-4"},[e._v(e._s(e.product.description))]),a("td",{staticClass:"col-2",attrs:{align:"center"}},[e._v(" "+e._s(e.roundAndFormat(e.product.quantityPurchased,e.decimalConfiguration.quantity))+" ")]),a("td",{staticClass:"col-1",attrs:{align:"center"}},[e._v(" "+e._s(e.product.fiscal.values.cfop.codigo)+" ")]),a("td",{staticClass:"col-2",attrs:{align:"center"}},[e._v(" "+e._s(e.roundAndFormat(e.product.price,e.decimalConfiguration.price))+" ")]),a("td",{staticClass:"col-2",attrs:{align:"center"}},[e._v("R$ "+e._s(e.buildTotalProduct(e.product)))]),a("td",{staticClass:"col-1",attrs:{align:"center"}},[a("a",{staticClass:"toogle-modal-product pr-2 text-muted",attrs:{href:"javascript:"},on:{click:function(t){return e.handleToggleModalFiscalProduct(e.id)}}},[a("Edit",{attrs:{title:"Editar"}})],1),a("a",{staticClass:"remove-product text-muted",attrs:{href:"javascript:"},on:{click:function(t){return e.removeProductOfPurchaseCollection(e.id)}}},[a("Close",{attrs:{title:"Excluir"}})],1)])])},g=[],O=(a("a434"),a("d3b7"),a("3ca3"),a("ddb0"),a("15fd")),I=a("7eb5"),P=a("d902"),T={name:"Product",mixins:[b["a"]],components:{Close:I["a"],Edit:P["a"]},props:["product","id"],computed:Object(s["a"])(Object(s["a"])({},Object(d["d"])("purchase",["products","purchaseParams","productOfPurchaseOnFiscalEdit","taxInformation","supplierInformation"])),Object(d["c"])("purchase",["decimalConfiguration"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["b"])("purchase",["setProductOfPurchaseOnFiscalEdit","setRemainder","totalCalcPurchase","setUnitOfMeasureById","setCfopByIdForProduct","setCsosnById","setCenqById","setOrigemById","setCstById","setCstIpiById","setCstPisById","setCstCofinsById","setNaturezaError","setSupplierError"])),Object(d["b"])("componentsPurchase",["toggleModalProduct"])),{},{buildTotalProduct:function(e){var t,a=null!==(t=e.vDesc)&&void 0!==t?t:0,r=new C["a"](e.price).multiply(e.quantityPurchased).subtract(a).toNumber();return this.roundAndFormat(r,this.decimalConfiguration.price)},handleToggleModalFiscalProduct:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,i,s,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.headerCFOPAndSupplierInformed(),n=r.isInformed,i=r.error,n){a.next=4;break}return t.$alert.error(i),a.abrupt("return");case 4:return s=t.products.productOfPurchaseCollection[e],o=s.fiscal,c=Object(O["a"])(s,["fiscal"]),a.next=7,t.setProductOfPurchaseOnFiscalEdit({edited:c.edited,isImportation:c.isImportation,originalIndex:e,productData:c,fiscal:o});case 7:if(!c.edited&&!c.isImportation){a.next=10;break}return a.next=10,t.setFiscalOnEdit(o);case 10:return a.next=12,t.toggleModalProduct();case 12:case"end":return a.stop()}}),a)})))()},setFiscalOnEdit:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,i,s,o,c,l,u,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.productOfPurchaseOnFiscalEdit.productData.unitOfMeasure.id,n=e.ids,i=n.csosnId,s=n.cenqId,o=n.origemId,c=n.cstId,l=n.cfopId,u=n.cstIPIId,d=n.cstPISId,p=n.cstCOFINSId,a.next=4,Promise.all([t.setUnitOfMeasureById(r),t.setCfopByIdForProduct(l),t.setCsosnById(i),t.setCenqById(s),t.setOrigemById(o),t.setCstById(c),t.setCstIpiById(u),t.setCstPisById(d),t.setCstCofinsById(p)]);case 4:case"end":return a.stop()}}),a)})))()},removeProductOfPurchaseCollection:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.products.productOfPurchaseCollection.splice(e,1),a.next=3,t.totalCalcPurchase({calcTypes:[m["b"].TOTAL_ATTRIBUTES,m["b"].TOTAL_COMMON,m["b"].TOTAL_DESC_BASED_ON_ITEM,m["b"].TOTAL_NF,m["b"].TOTAL_TAX_REGIME]});case 3:case"end":return a.stop()}}),a)})))()},headerCFOPAndSupplierInformed:function(){var e={isInformed:!1,error:null};return this.taxInformation.natureza.cfop.codigo?this.supplierInformation.supplier.name?Object(s["a"])(Object(s["a"])({},e),{},{isInformed:!0}):(this.setSupplierError(!0),Object(s["a"])(Object(s["a"])({},e),{},{error:"Fornecedor não informado"})):(this.setNaturezaError(!0),Object(s["a"])(Object(s["a"])({},e),{},{error:"Natureza não informada"}))}})},B=T,x=a("2877"),y=Object(x["a"])(B,S,g,!1,null,null,null),F=y.exports,E=a("218b"),R=a("6148"),_={name:"Products",components:{Accordion:u["a"],SelectWithSearch:p["r"],Button:p["a"],Product:F,InputQuantity:p["k"],InputMoney:p["j"],PlusThick:h["a"]},mixins:[b["a"],v["a"]],data:function(){return{decimalPrice:2,decimalQuantity:2,product:[],addingProduct:!1,productFilter:l.a.debounce(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=a.toLocaleLowerCase(),n=t.description.toLocaleLowerCase(),e.abrupt("return",n.includes(r));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),350)}},validations:{products:{productOfPurchaseCollection:{required:f["required"]}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getConfigEmissor(),t.next=3,e.setDefaultQuantity();case 3:return t.next=5,e.setProductCollection({orderType:R["a"].PURCHASE});case 5:case"end":return t.stop()}}),t)})))()},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["d"])("product",["productCollection","productInventory"])),Object(d["d"])("purchase",["products","purchaseParams","taxInformation","supplierInformation","productOfPurchaseOnFiscalEdit","matchedCfopForProductPurchase"])),Object(d["c"])("purchase",["getDefaultProductOfPurchaseOnFiscalEditState","decimalConfiguration"])),{},{isValidProduct:function(){return this.product.totalPrice>=.01}}),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(d["b"])("product",["setProductCollection","setProductInventory","resetProductCollection"])),Object(d["b"])("purchase",["totalCalcPurchase","setRemainder","setNaturezaError","setSupplierError","setMatchedCfopForProductPurchase"])),Object(d["b"])("componentsPurchase",["setLoadingTabProduct","setLoadingTabPurchase"])),{},{toggleAddingProductLoader:function(){this.addingProduct=!this.addingProduct},setDefaultQuantity:function(){this.product.quantityPurchased=this.valorReal(1,this.decimalConfiguration.quantity)},setEmptyProduct:function(){this.product=[],this.setDefaultQuantity()},getConfigEmissor:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!window.localStorage.getItem("configurationEmissor")){t.next=6;break}return t.next=3,JSON.parse(window.localStorage.getItem("configurationEmissor"));case 3:a=t.sent,e.decimalPrice=a.decimalPrice,e.decimalQuantity=a.decimalQuantity;case 6:case"end":return t.stop()}}),t)})))()},searchProduct:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.length){a.next=3;break}return t.resetProductCollection(),a.abrupt("return");case 3:return a.next=5,t.setProductCollection({search:e,orderType:R["a"].PURCHASE});case 5:case"end":return a.stop()}}),a)})))()},changeProduct:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=10;break}return a.next=3,t.$http.post("/inventory.get-product",{id:e.id});case 3:if(r=a.sent,n=r.data,n.length){a.next=7;break}return a.abrupt("return",!1);case 7:return o=Object(i["a"])(n,1),c=Object.assign({},o[0]),t.product=Object(s["a"])(Object(s["a"])(Object(s["a"])({},t.product),c),{},{price:t.valorReal(c.cost,t.decimalConfiguration.price)}),a.abrupt("return",!0);case 10:return t.setEmptyProduct(),a.abrupt("return",!1);case 12:case"end":return a.stop()}}),a)})))()},headerCFOPAndSupplierInformed:function(){var e={isInformed:!1,error:null};return this.taxInformation.natureza.cfop.codigo?this.supplierInformation.supplier.name?Object(s["a"])(Object(s["a"])({},e),{},{isInformed:!0}):(this.setSupplierError(!0),Object(s["a"])(Object(s["a"])({},e),{},{error:"Fornecedor não informado"})):(this.setNaturezaError(!0),Object(s["a"])(Object(s["a"])({},e),{},{error:"Natureza não informada"}))},buildCfop:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setMatchedCfopForProductPurchase({supplierId:e.supplierInformation.supplier.id,cfopIdPurchaseHeader:e.taxInformation.natureza.cfop.id});case 2:case"end":return t.stop()}}),t)})))()},setProductOfPurchaseCollection:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,a=e.headerCFOPAndSupplierInformed(),r=a.isInformed,n=a.error,r){t.next=5;break}return e.$alert.error(n),t.abrupt("return");case 5:return e.toggleAddingProductLoader(),t.next=8,e.buildCfop();case 8:return t.next=10,e.setProductInventory(e.product);case 10:return i=e.products.productOfPurchaseCollection,o=Object(s["a"])(Object(s["a"])({},e.productInventory),{},{fiscal:Object(s["a"])(Object(s["a"])({},e.productInventory.fiscal),{},{produto:Object(s["a"])(Object(s["a"])({},e.productInventory.fiscal.produto),{},{CFOP:Object(s["a"])({},e.matchedCfopForProductPurchase)})})}),t.next=14,E["b"](o);case 14:return c=t.sent,i.push(Object(s["a"])(Object(s["a"])({},e.product),{},{edited:!1,id:void 0,productId:e.product.id,quantityPurchased:e.valorUS(e.product.quantityPurchased),price:e.valorUS(e.product.price),fiscal:c})),t.next=18,e.totalCalcPurchase({calcTypes:[m["b"].TOTAL_ATTRIBUTES,m["b"].TOTAL_COMMON,m["b"].TOTAL_DESC_BASED_ON_ITEM,m["b"].TOTAL_NF,m["b"].TOTAL_TAX_REGIME]});case 18:e.setEmptyProduct(),e.toggleAddingProductLoader(),t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](0),e.toggleAddingProductLoader();case 25:case"end":return t.stop()}}),t,null,[[0,22]])})))()}}),watch:{product:{handler:function(){var e=this.valorUS(this.product.price),t=this.valorUS(this.product.quantityPurchased);this.product.totalPrice=new C["a"](e).multiply(t).toNumber()},deep:!0},products:{handler:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setRemainder();case 2:case"end":return t.stop()}}),t)})))()},deep:!0}}},j=_,M=(a("1163"),Object(x["a"])(j,r,n,!1,null,null,null));t["a"]=M.exports},bc24:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("IBSRegimeFormMessage")],1),a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("h4",[e._v("Geral")])])],1),a("b-row",[a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Total R$",disabled:"",precision:2,value:e.vNFTot}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"BC IBS/CBS",disabled:"",precision:2,value:e.vBCIBSCBS}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Total IS",disabled:"",precision:2,value:e.vIS}})],1)],1),a("CBSTaxes",{attrs:{IbsTaxRegimeTotals:e.IbsTaxRegimeTotals}}),a("IBSTaxes",{attrs:{IbsTaxRegimeTotals:e.IbsTaxRegimeTotals}})],1)},n=[],i=a("2127"),s=a("48c1"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"mt-4"},[a("b-col",{attrs:{lg:"12"}},[a("h4",[e._v("IBS")])])],1),a("b-row",[a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Diferimento UF",disabled:"",precision:2,value:e.vDifUF}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Dev. Tributos UF",disabled:"",precision:2,value:e.vDevTribUF}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"IBS UF",disabled:"",precision:2,value:e.vIBSUF}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Diferimento Mun",disabled:"",precision:2,value:e.vDifMun}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Dev. Tributos Mun",disabled:"",precision:2,value:e.vDevTribMun}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"IBS Mun",disabled:"",precision:2,value:e.vIBSMun}})],1)],1),a("b-row",{staticClass:"mt-lg-2"},[a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Créd. Pres.",disabled:"",precision:2,value:e.vCredPres}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Créd. Pres. Sus",disabled:"",precision:2,value:e.vCredPresCondSus}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"IBS Mono.",disabled:"",precision:2,value:e.vIBSMono}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"IBS Mono. Ret.",disabled:"",precision:2,value:e.vIBSMonoRet}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"IBS Mono. Reten",disabled:"",precision:2,value:e.vIBSMonoReten}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Total IBS",disabled:"",precision:2,value:e.vIBSTot}})],1)],1)],1)},c=[],l={name:"IBSTaxes",components:{InputMoney:i["j"]},props:{IbsTaxRegimeTotals:{type:Object,required:!0}},computed:{vDifUF:function(){var e,t,a,r;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gIBS)||void 0===a||null===(r=a.gIBSUF)||void 0===r?void 0:r.vDif)||0},vDevTribUF:function(){var e,t,a,r;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gIBS)||void 0===a||null===(r=a.gIBSUF)||void 0===r?void 0:r.vDevTrib)||0},vIBSUF:function(){var e,t,a,r;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gIBS)||void 0===a||null===(r=a.gIBSUF)||void 0===r?void 0:r.vIBSUF)||0},vDifMun:function(){var e,t,a,r;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gIBS)||void 0===a||null===(r=a.gIBSMun)||void 0===r?void 0:r.vDif)||0},vDevTribMun:function(){var e,t,a,r;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gIBS)||void 0===a||null===(r=a.gIBSMun)||void 0===r?void 0:r.vDevTrib)||0},vIBSMun:function(){var e,t,a,r;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gIBS)||void 0===a||null===(r=a.gIBSMun)||void 0===r?void 0:r.vIBSMun)||0},vCredPres:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gIBS)||void 0===a?void 0:a.vCredPres)||0},vCredPresCondSus:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gIBS)||void 0===a?void 0:a.vCredPresCondSus)||0},vIBSMono:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gMono)||void 0===a?void 0:a.vIBSMono)||0},vIBSMonoRet:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gMono)||void 0===a?void 0:a.vIBSMonoRet)||0},vIBSMonoReten:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gMono)||void 0===a?void 0:a.vIBSMonoReten)||0},vIBSTot:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gIBS)||void 0===a?void 0:a.vIBS)||0}}},u=l,d=a("2877"),p=Object(d["a"])(u,o,c,!1,null,null,null),f=p.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"mt-4"},[a("b-col",{attrs:{lg:"12"}},[a("h4",[e._v("CBS")])])],1),a("b-row",[a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Dev. Tributos",disabled:"",precision:2,value:e.vDevTrib}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Diferimento",disabled:"",precision:2,value:e.vDif}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"CBS",disabled:"",precision:2,value:e.vCBS}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Créd. Pres",disabled:"",precision:2,value:e.vCredPres}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"Créd. Pres. Sus",disabled:"",precision:2,value:e.vCredPresCondSus}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"CBS Mono.",disabled:"",precision:2,value:e.vCBSMono}})],1)],1),a("b-row",{staticClass:"mt-lg-2"},[a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"CBS Mono. Ret.",disabled:"",precision:2,value:e.vCBSMonoRet}})],1),a("b-col",{attrs:{lg:"2"}},[a("InputMoney",{attrs:{label:"CBS Mono. Reten",disabled:"",precision:2,value:e.vCBSMonoReten}})],1)],1)],1)},b=[],v={name:"CBSTaxes",components:{InputMoney:i["j"]},props:{IbsTaxRegimeTotals:{type:Object,required:!0}},computed:{vDevTrib:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gCBS)||void 0===a?void 0:a.vDevTrib)||0},vDif:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gCBS)||void 0===a?void 0:a.vDif)||0},vCBS:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gCBS)||void 0===a?void 0:a.vCBS)||0},vCredPres:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gCBS)||void 0===a?void 0:a.vCredPres)||0},vCredPresCondSus:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gCBS)||void 0===a?void 0:a.vCredPresCondSus)||0},vCBSMono:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gMono)||void 0===a?void 0:a.vCBSMono)||0},vCBSMonoRet:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gMono)||void 0===a?void 0:a.vCBSMonoRet)||0},vCBSMonoReten:function(){var e,t,a;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t||null===(a=t.gMono)||void 0===a?void 0:a.vCBSMonoReten)||0}}},h=v,C=Object(d["a"])(h,m,b,!1,null,null,null),S=C.exports,g={name:"IBSRegimeTaxesData",components:{IBSTaxes:f,CBSTaxes:S,InputMoney:i["j"],IBSRegimeFormMessage:s["a"]},props:{IbsTaxRegimeTotals:{type:Object,required:!0}},computed:{vNFTot:function(){var e;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e?void 0:e.vNFTot)||0},vBCIBSCBS:function(){var e,t;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.IBSCBSTot)||void 0===t?void 0:t.vBCIBSCBS)||0},vIS:function(){var e,t;return(null===(e=this.IbsTaxRegimeTotals)||void 0===e||null===(t=e.ISTot)||void 0===t?void 0:t.vIS)||0}}},O=g,I=Object(d["a"])(O,r,n,!1,null,null,null);t["a"]=I.exports},e256:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{value:e.modalProductIsOpen,onClose:e.toggleModalProduct}},[a("b-row",{attrs:{sm:"9"}},[a("b-col",[a("h3",[e._v(" "+e._s(e.productOfPurchaseOnFiscalEdit.productData.description)+" ")])])],1),a("div",{staticClass:"mt-3 tabs-two-rows"},[a("b-tabs",{attrs:{"active-nav-item-class":"font-weight-bold","content-class":"mt-3",align:"center"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[a("b-tab",{attrs:{active:"","title-link-class":e.linkClass(0)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabProduct?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" Produto ")]},proxy:!0}])},[a("ProductTab",{ref:"productTab"})],1),a("b-tab",{attrs:{"title-link-class":e.linkClass(1)},scopedSlots:e._u([{key:"title",fn:function(){return[e._e(),e._v(" ICMS ST ")]},proxy:!0}])},[a("STTab",{ref:"stTab"})],1),a("b-tab",{attrs:{"title-link-class":e.linkClass(2)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabPurchase?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" ICMS/IPI ")]},proxy:!0}])},[a("IcmsIpiTab",{ref:"icmsIpiTab"})],1),a("b-tab",{attrs:{"title-link-class":e.linkClass(3)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabPurchase?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" PIS/COFINS ")]},proxy:!0}])},[a("PisCofinsTab",{ref:"pisCofinsTab"})],1),a("b-tab",{attrs:{"title-link-class":e.linkClass(4)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabPurchase?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" IBS/CBS ")]},proxy:!0}])},[a("IBSCBS",{ref:"IBSCBSTab",on:{onChangeCClassTrib:e.onChangeCClassTrib}})],1),a("b-tab",{attrs:{"title-link-class":e.linkClass(5)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabPurchase?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" IBS UF ")]},proxy:!0}])},[a("IBSUF",{ref:"IBSUFTab",attrs:{canEditDiferimento:e.canEditDiferimento}})],1),a("b-tab",{attrs:{"title-link-class":e.linkClass(6)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabPurchase?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" IBS Mun ")]},proxy:!0}])},[a("IBSMun",{ref:"IBSMunTab",attrs:{canEditDiferimento:e.canEditDiferimento}})],1),a("b-tab",{attrs:{"title-link-class":e.linkClass(7)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabPurchase?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" CBS ")]},proxy:!0}])},[a("CBS",{ref:"CBSTab",attrs:{canEditDiferimento:e.canEditDiferimento}})],1),e.showTribRegular?a("b-tab",{attrs:{"title-link-class":e.linkClass(8)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabPurchase?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" Trib Regular ")]},proxy:!0}],null,!1,2698412797)},[a("TribRegular",{ref:"TribRegularTab",on:{onChangeCClassTribReg:e.onChangeCClassTribReg}})],1):e._e(),e.showCredPresOper?a("b-tab",{attrs:{"title-link-class":e.linkClass(9)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabPurchase?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" Cred Presumido ")]},proxy:!0}],null,!1,136129780)},[a("CredPresOper",{ref:"CredPresOperTab"})],1):e._e(),a("b-tab",{attrs:{"title-link-class":e.linkClass(10)},scopedSlots:e._u([{key:"title",fn:function(){return[e.loadingTabPurchase?a("b-spinner",{attrs:{type:"border",small:""}}):e._e(),e._v(" IS ")]},proxy:!0}])},[a("IS",{ref:"ISTab"})],1)],1)],1),a("br"),a("b-row",{attrs:{align:"center"}},[a("b-col",[a("Button",{attrs:{type:"cancel"},on:{click:function(t){return e.toggleModalProduct()}}},[a("Close",{staticClass:"mb-1",attrs:{title:"Cancelar"}}),e._v(" Cancelar ")],1),a("Button",{attrs:{type:"success"},on:{click:function(t){return e.handleSave()}}},[e._v("Salvar")])],1)],1)],1)},n=[],i=(a("7db0"),a("45fc"),a("d3b7"),a("ddb0"),a("96cf"),a("1da1")),s=a("5530"),o=a("2af9"),c=a("2f62"),l=a("2127"),u=a("0ab8"),d=a("7eb5"),p=a("8fc5"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"4"}},[a("Label",[e._v("% MVA:")]),a("InputQuantity",{ref:"pMVAST",attrs:{id:"pMVAST",precision:4},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.pMVAST,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"pMVAST",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.pMVAST"}})],1),a("b-col",{attrs:{sm:"4"}},[a("InputMoney",{ref:"vICMSST",attrs:{id:"vICMSST",label:"Valor ICMS-ST:",inputClass:"form-control input",labelBold:"",precision:2,error:e.$v.productOfPurchaseOnFiscalEdit.fiscal.values.vICMSST.$error},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vICMSST,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vICMSST",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vICMSST"}})],1),a("b-col",{attrs:{sm:"4"}},[a("InputMoney",{ref:"vBCST",attrs:{id:"vBCST",label:"Valor Base Calc ICMS-ST:",inputClass:"form-control input",labelBold:"",precision:2},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vBCST,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vBCST",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vBCST"}})],1)],1),a("b-row",{staticClass:"row-padding"},[e.valorUS(e.productOfPurchaseOnFiscalEdit.fiscal.values.pST)>0?a("b-col",{attrs:{sm:"4"}},[a("Label",[e._v("% Aliquota ICMS-ST Destino:")]),a("InputQuantity",{ref:"pST",attrs:{id:"pST",precision:4},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.pST,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"pST",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.pST"}})],1):a("b-col",{attrs:{sm:"4"}},[a("Label",[e._v("% Aliquota ICMS-ST Destino:")]),a("InputQuantity",{ref:"pICMSST",attrs:{id:"pICMSST",precision:4},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.pICMSST,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"pICMSST",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.pICMSST"}})],1),a("b-col",{attrs:{sm:"4"}},[a("InputMoney",{ref:"vICMSSTRet",attrs:{id:"vICMSSTRet",label:"Valor ICMS-ST Retido:",inputClass:"form-control input",labelBold:"",precision:2,error:e.$v.productOfPurchaseOnFiscalEdit.fiscal.values.vICMSSTRet.$error},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vICMSSTRet,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vICMSSTRet",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vICMSSTRet"}})],1),a("b-col",{attrs:{sm:"4"}},[a("InputMoney",{ref:"vBCSTRet",attrs:{id:"vBCSTRet",label:"Valor BC ICMS-ST Retido:",inputClass:"form-control input",labelBold:"",precision:2},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vBCSTRet,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vBCSTRet",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vBCSTRet"}})],1)],1),a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"4"}},[a("Label",[e._v("% FCP ST:")]),a("InputQuantity",{ref:"pFCPST",attrs:{id:"pFCPST",precision:4},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.pFCPST,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"pFCPST",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.pFCPST"}})],1),a("b-col",{attrs:{sm:"4"}},[a("InputMoney",{ref:"vFCPST",attrs:{id:"vFCPST",label:"Valor FCP ST:",inputClass:"form-control input",labelBold:"",precision:2,error:e.$v.productOfPurchaseOnFiscalEdit.fiscal.values.vFCPST.$error},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vFCPST,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vFCPST",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vFCPST"}})],1),a("b-col",{attrs:{sm:"4"}},[a("InputMoney",{ref:"vBCFCPST",attrs:{id:"vBCFCPST",label:"Valor BC FCP ST:",inputClass:"form-control input",labelBold:"",precision:2},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vBCFCPST,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vBCFCPST",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vBCFCPST"}})],1)],1)],1)},m=[],b=a("b5ae"),v=a("2ef0"),h=p["a"].methods.valorUS,C=function(e){return h(e)>0},S=function(e){return h(e)>0},g=function(e){return Object(v["isNumber"])(h(e))},O=function(e,t){return h(e)<=h(t.vBCST)},I=function(e,t){return h(e)<=h(t.vBCSTRet)},P=function(e,t){return h(e)<=h(t.vBCFCPST)},T=function(e){return!!e&&"id"in e},B=(b["required"],b["minLength"],b["numeric"],{name:"stTab",mixins:[p["a"]],components:{InputMoney:l["j"],InputQuantity:l["k"],Label:l["m"]},validations:{productOfPurchaseOnFiscalEdit:{fiscal:{values:{vICMSST:{isValidICMSST:O},vICMSSTRet:{isValidICMSSTRetido:I},vFCPST:{isValidFCPST:P}}}}},computed:Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"])),watch:{productOfPurchaseOnFiscalEdit:{handler:function(){},deep:!0}}}),x=B,y=a("2877"),F=Object(y["a"])(x,f,m,!1,null,null,null),E=F.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"4"}},[a("InputQuantity",{ref:"pICMS",attrs:{id:"pICMS",label:"% ICMS",inputClass:"form-control input",labelBold:"",precision:4},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.pICMS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"pICMS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.pICMS"}})],1),a("b-col",{attrs:{sm:"4"}},[a("InputMoney",{ref:"vICMS",attrs:{id:"vICMS",label:"Valor ICMS",inputClass:"form-control input",labelBold:"",precision:2},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vICMS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vICMS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vICMS"}})],1),a("b-col",{attrs:{sm:"4"}},[a("InputMoney",{ref:"vBC",attrs:{id:"vBC",label:"Valor Base ICMS",inputClass:"form-control input",labelBold:"",precision:2},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vBC,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vBC",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vBC"}})],1)],1),a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"3"}},[a("InputQuantity",{ref:"pIPI",attrs:{id:"pIPI",label:"% IPI",inputClass:"form-control input",labelBold:"",precision:4},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.pIPI,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"pIPI",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.pIPI"}})],1),a("b-col",{attrs:{sm:"3"}},[a("InputMoney",{ref:"vIPI",attrs:{id:"vIPI",label:"Valor IPI:",inputClass:"form-control input",labelBold:"",precision:2,disabled:!e.hasSelectedTax(e.productOfPurchaseOnFiscalEdit.fiscal.values.cstIpi)},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vIPI,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vIPI",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vIPI"}})],1),a("b-col",{attrs:{sm:"3"}},[a("SelectWithSearch",{ref:"searchCst",attrs:{label:"CST IPI",placeholder:"CST IPI",labelBusca:"codigo",filterBy:e.taxFilter,change:e.changeCstIpiSelected,options:e.cstIPICollection,search:e.searchCstIpi},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" - "+e._s(t.data.descricao)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" ")])]}}]),model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.cstIpi,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"cstIpi",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.cstIpi"}},[a("template",{slot:"no-options"},[e._v(" Selecione um CST IPI ")])],2)],1),a("b-col",{attrs:{sm:"3"}},[a("SelectWithSearch",{ref:"searchCENQ",attrs:{label:"CENQ",placeholder:"CENQ",labelBusca:"codigo",filterBy:e.taxFilter,change:e.changeCenqSelected,options:e.cenqCollection,search:e.searchCenq},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" - "+e._s(t.data.descricao)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" ")])]}}]),model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.cenq,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"cenq",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.cenq"}},[a("template",{slot:"no-options"},[e._v(" Selecione um CENQ ")])],2)],1)],1)],1)},_=[],j=(a("caad"),a("2532"),{name:"TaxTab",components:{SelectWithSearch:l["r"],InputMoney:l["j"],InputQuantity:l["k"]},data:function(){return{taxFilter:function(e,t){var a=t.toLocaleLowerCase();return e.descricao.includes(a)||e.codigo.includes(a)}}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["d"])("cst",["cstIPICollection"])),Object(c["d"])("cenq",["cenqCollection"])),Object(c["d"])("purchase",["taxInformation","supplierInformation","productOfPurchaseOnFiscalEdit"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["b"])("cst",["setCSTIPICollection"])),Object(c["b"])("cenq",["setCENQCollection"])),Object(c["b"])("componentsPurchase",["setLoadingTabPurchase"])),{},{hasSelectedTax:function(e){return!(!e||Array.isArray(e))},searchCstIpi:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:null,!r){a.next=6;break}return t.setLoadingTabPurchase(!0),a.next=5,t.setCSTIPICollection(r);case 5:t.setLoadingTabPurchase(!1);case 6:case"end":return a.stop()}}),a)})))()},changeCstIpiSelected:function(e){this.productOfPurchaseOnFiscalEdit.fiscal.values.cstIpi=e?Object(s["a"])({},e):[]},searchCenq:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:null,!r){a.next=6;break}return t.setLoadingTabPurchase(!0),a.next=5,t.setCENQCollection(r);case 5:t.setLoadingTabPurchase(!1);case 6:case"end":return a.stop()}}),a)})))()},changeCenqSelected:function(e){this.productOfPurchaseOnFiscalEdit.fiscal.values.cenq=e?Object(s["a"])({},e):[]}})}),M=j,k=Object(y["a"])(M,R,_,!1,null,null,null),w=k.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"3"}},[a("InputQuantity",{ref:"pPIS",attrs:{id:"pPIS",label:"% PIS",inputClass:"form-control input",labelBold:"",precision:4},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.pPIS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"pPIS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.pPIS"}})],1),a("b-col",{attrs:{sm:"3"}},[a("SelectWithSearch",{ref:"searchCstPIS",attrs:{label:"CST PIS",placeholder:"CST PIS",labelBusca:"codigo",filterBy:e.taxFilter,change:e.changeCstPisSelected,options:e.cstPISCollection,search:e.searchCstPis},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" - "+e._s(t.data.descricao)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" ")])]}}]),model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.cstPis,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"cstPis",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.cstPis"}},[a("template",{slot:"no-options"},[e._v(" Selecione um CST PIS ")])],2)],1),a("b-col",{attrs:{sm:"3"}},[a("InputMoney",{ref:"vPIS",attrs:{id:"vPIS",label:"Valor PIS:",inputClass:"form-control input",labelBold:"",precision:2,disabled:!e.hasSelectedTax(e.productOfPurchaseOnFiscalEdit.fiscal.values.cstPis)},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vPIS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vPIS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vPIS"}})],1),a("b-col",{attrs:{sm:"3"}},[a("InputMoney",{ref:"vBCPIS",attrs:{id:"vBCPIS",label:"Base PIS:",inputClass:"form-control input",labelBold:"",precision:2,disabled:!e.hasSelectedTax(e.productOfPurchaseOnFiscalEdit.fiscal.values.cstPis)},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vBCPIS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vBCPIS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vBCPIS"}})],1)],1),a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"3"}},[a("InputQuantity",{ref:"pCOFINS",attrs:{id:"pCOFINS",label:"% COFINS",inputClass:"form-control input",labelBold:"",precision:4},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.pCOFINS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"pCOFINS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.pCOFINS"}})],1),a("b-col",{attrs:{sm:"3"}},[a("SelectWithSearch",{ref:"searchCstCOFINS",attrs:{label:"CST COFINS",placeholder:"CST COFINS",labelBusca:"codigo",filterBy:e.taxFilter,change:e.changeCstCofinsSelected,options:e.cstCOFINSCollection,search:e.searchCstCofins},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" - "+e._s(t.data.descricao)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" ")])]}}]),model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.cstCofins,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"cstCofins",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.cstCofins"}},[a("template",{slot:"no-options"},[e._v(" Selecione um CST COFINS ")])],2)],1),a("b-col",{attrs:{sm:"3"}},[a("InputMoney",{ref:"vCOFINS",attrs:{id:"vCOFINS",label:"Valor COFINS:",inputClass:"form-control input",labelBold:"",precision:2,disabled:!e.hasSelectedTax(e.productOfPurchaseOnFiscalEdit.fiscal.values.cstCofins)},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vCOFINS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vCOFINS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vCOFINS"}})],1),a("b-col",{attrs:{sm:"3"}},[a("InputMoney",{ref:"vBCCOFINS",attrs:{id:"vBCCOFINS",label:"Base COFINS:",inputClass:"form-control input",labelBold:"",precision:2,disabled:!e.hasSelectedTax(e.productOfPurchaseOnFiscalEdit.fiscal.values.cstCofins)},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.vBCCOFINS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"vBCCOFINS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.vBCCOFINS"}})],1)],1)],1)},A=[],N={name:"PisCofinsTab",components:{SelectWithSearch:l["r"],InputMoney:l["j"],InputQuantity:l["k"]},data:function(){return{taxFilter:function(e,t){var a=t.toLocaleLowerCase();return e.descricao.includes(a)||e.codigo.includes(a)}}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"])),Object(c["d"])("cst",["cstPISCollection","cstCOFINSCollection"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["b"])("componentsPurchase",["setLoadingTabPurchase"])),Object(c["b"])("cst",["setCSTPISCollection","setCSTCOFINSCollection"])),{},{hasSelectedTax:function(e){return!(!e||Array.isArray(e))},searchCstPis:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return t.setLoadingTabPurchase(!0),a.next=4,t.setCSTPISCollection(e);case 4:t.setLoadingTabPurchase(!1);case 5:case"end":return a.stop()}}),a)})))()},changeCstPisSelected:function(e){this.productOfPurchaseOnFiscalEdit.fiscal.values.cstPis=e?Object(s["a"])({},e):[]},searchCstCofins:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=5;break}return t.setLoadingTabPurchase(!0),a.next=4,t.setCSTCOFINSCollection(e);case 4:t.setLoadingTabPurchase(!1);case 5:case"end":return a.stop()}}),a)})))()},changeCstCofinsSelected:function(e){this.productOfPurchaseOnFiscalEdit.fiscal.values.cstCofins=e?Object(s["a"])({},e):[]}})},$=N,q=Object(y["a"])($,D,A,!1,null,null,null),L=q.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("SelectWithSearch",{attrs:{label:"Class. trib. IBS/CBS",filterBy:e.taxFilter,change:e.changeClassTribIBSCBSSelected,options:e.classTribIBSCBSCollection},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}}]),model:{value:e.cClassTrib,callback:function(t){e.cClassTrib=t},expression:"cClassTrib"}},[a("template",{slot:"no-options"},[e._v(" Nenhum resultado encontrado ")])],2)],1),a("b-col",{attrs:{lg:"6"}},[a("SelectWithSearch",{attrs:{label:"CST IBS/CBS",disabled:"",filterBy:e.taxFilter,options:e.CSTIBSCBSCollection},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}}]),model:{value:e.cstIBSCBS,callback:function(t){e.cstIBSCBS=t},expression:"cstIBSCBS"}},[a("template",{slot:"no-options"},[e._v(" Nenhum resultado encontrado ")])],2)],1)],1),a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Base de cálculo",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.vBC,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime,"vBC",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.vBC"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor do IBS",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.vIBS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime,"vIBS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.vIBS"}})],1)],1)],1)},V=[],z=(a("25f0"),{name:"IBSRegimeTaxes",components:{InputMoney:l["j"],SelectWithSearch:l["r"]},data:function(){return{cClassTrib:null,cstIBSCBS:null,taxFilter:function(e,t,a){var r,n;if(!a)return!0;var i=a.toLowerCase(),s=null===(r=e.codigo)||void 0===r?void 0:r.toString().toLowerCase().includes(i),o=null===(n=e.descricao)||void 0===n?void 0:n.toString().toLowerCase().includes(i);return s||o}}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"])),Object(c["d"])("ibsRegime",["classTribIBSCBSCollection","CSTIBSCBSCollection"])),mounted:function(){var e=this,t=this.classTribIBSCBSCollection.find((function(t){var a;return t.codigo===(null===(a=e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime)||void 0===a?void 0:a.cClassTrib)})),a=this.CSTIBSCBSCollection.find((function(t){var a;return t.codigo===(null===(a=e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime)||void 0===a?void 0:a.CST)}));t&&(this.cClassTrib=t),a&&(this.cstIBSCBS=a)},methods:{changeClassTribIBSCBSSelected:function(e){if(this.$emit("onChangeCClassTrib",e),e){this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.cClassTrib=e.codigo,this.cClassTrib=Object(s["a"])({},e);var t=e.codigo.substring(0,3),a=this.CSTIBSCBSCollection.find((function(e){return e.codigo===t}));return this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CST=a.codigo,void(this.cstIBSCBS=Object(s["a"])({},a))}this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.cClassTrib=null,this.cClassTrib=null,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CST=null,this.cstIBSCBS=null}}}),Q=z,W=Object(y["a"])(Q,U,V,!1,null,null,null),K=W.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pIBSUF",label:"Alíquota",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.pIBSUF,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF,"pIBSUF",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.pIBSUF"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.vIBSUF,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF,"vIBSUF",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.vIBSUF"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"IbsUfPDif",label:"Alíquota diferimento",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:!e.canEditDiferimento,max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.pDif,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF,"pDif",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.pDif"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor diferimento",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1,disabled:!e.canEditDiferimento},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.vDif,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF,"vDif",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.vDif"}})],1)],1),a("b-row",{staticClass:"mt-lg-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor devolução tributos",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.vDevTrib,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF,"vDevTrib",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.vDevTrib"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"IbsUfPRedAliq",label:"Percentual redução de alíquota",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.pRedAliq,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF,"pRedAliq",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.pRedAliq"}})],1),a("b-col",{staticClass:"mt-lg-4",attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"IbsUfPAliqEfet",label:"Alíquota efetiva",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.pAliqEfet,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF,"pAliqEfet",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.pAliqEfet"}})],1)],1)],1)},Y=[],H={name:"IBSUF",components:{InputMoney:l["j"],InputQuantity:l["k"]},computed:Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"])),props:{canEditDiferimento:{type:Boolean,default:!1}}},G=H,J=Object(y["a"])(G,X,Y,!1,null,null,null),Z=J.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pIBSMun",label:"Alíquota",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.pIBSMun,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun,"pIBSMun",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.pIBSMun"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.vIBSMun,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun,"vIBSMun",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.vIBSMun"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"IbsMunPDif",label:"Alíquota diferimento",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:!e.canEditDiferimento,max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.pDif,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun,"pDif",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.pDif"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor diferimento",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1,disabled:!e.canEditDiferimento},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.vDif,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun,"vDif",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.vDif"}})],1)],1),a("b-row",{staticClass:"mt-lg-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor devolução tributos",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.vDevTrib,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun,"vDevTrib",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.vDevTrib"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"IbsMunPRedAliq",label:"Percentual redução de alíquota",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.pRedAliq,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun,"pRedAliq",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.pRedAliq"}})],1),a("b-col",{staticClass:"mt-lg-4",attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"IbsMunPAliqEfet",label:"Alíquota efetiva",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.pAliqEfet,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun,"pAliqEfet",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.pAliqEfet"}})],1)],1)],1)},te=[],ae={name:"IBSMun",components:{InputMoney:l["j"],InputQuantity:l["k"]},computed:Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"])),props:{canEditDiferimento:{type:Boolean,default:!1}}},re=ae,ne=Object(y["a"])(re,ee,te,!1,null,null,null),ie=ne.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("SelectWithSearch",{attrs:{label:"Class. trib. IBS/CBS",filterBy:e.taxFilter,change:e.changeClassTribIBSCBSRegSelected,options:e.classTribIBSCBSCollection},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}}]),model:{value:e.classTribReg,callback:function(t){e.classTribReg=t},expression:"classTribReg"}},[a("template",{slot:"no-options"},[e._v(" Nenhum resultado encontrado ")])],2)],1),a("b-col",{attrs:{lg:"6"}},[a("SelectWithSearch",{attrs:{label:"CST IBS/CBS",disabled:"",filterBy:e.taxFilter,options:e.CSTIBSCBSCollection},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}}]),model:{value:e.cstReg,callback:function(t){e.cstReg=t},expression:"cstReg"}},[a("template",{slot:"no-options"},[e._v(" Nenhum resultado encontrado ")])],2)],1)],1),a("b-row",{staticClass:"mt-lg-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pAliqEfetRegIBSUF",label:"Alíquota IBS UF",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.pAliqEfetRegIBSUF,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular,"pAliqEfetRegIBSUF",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.pAliqEfetRegIBSUF"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor IBS UF",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.vTribRegIBSUF,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular,"vTribRegIBSUF",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.vTribRegIBSUF"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pAliqEfetRegIBSMun",label:"Alíquota IBS Mun",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.pAliqEfetRegIBSMun,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular,"pAliqEfetRegIBSMun",t)},expression:"\n          productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.pAliqEfetRegIBSMun\n        "}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor IBS Município",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.vTribRegIBSMun,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular,"vTribRegIBSMun",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.vTribRegIBSMun"}})],1)],1),a("b-row",{staticClass:"mt-lg-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pAliqEfetRegCBS",label:"Alíquota CBS",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.pAliqEfetRegCBS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular,"pAliqEfetRegCBS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.pAliqEfetRegCBS"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor CBS",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.vTribRegCBS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular,"vTribRegCBS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.vTribRegCBS"}})],1)],1)],1)},oe=[],ce={name:"TribRegular",components:{InputMoney:l["j"],InputQuantity:l["k"],SelectWithSearch:l["r"]},data:function(){return{classTribReg:null,cstReg:null,taxFilter:function(e,t,a){var r,n;if(!a)return!0;var i=a.toLowerCase(),s=null===(r=e.codigo)||void 0===r?void 0:r.toString().toLowerCase().includes(i),o=null===(n=e.descricao)||void 0===n?void 0:n.toString().toLowerCase().includes(i);return s||o}}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"])),Object(c["d"])("ibsRegime",["classTribIBSCBSCollection","CSTIBSCBSCollection"])),mounted:function(){var e=this,t=this.classTribIBSCBSCollection.find((function(t){var a,r;return t.codigo===(null===(a=e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime)||void 0===a||null===(r=a.gTribRegular)||void 0===r?void 0:r.cClassTribReg)})),a=this.CSTIBSCBSCollection.find((function(t){var a,r;return t.codigo===(null===(a=e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime)||void 0===a||null===(r=a.gTribRegular)||void 0===r?void 0:r.CSTReg)}));t&&(this.classTribReg=t),a&&(this.cstReg=a)},methods:{changeClassTribIBSCBSRegSelected:function(e){if(this.$emit("onChangeCClassTribReg",e),e){this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.cClassTribReg=e.codigo,this.classTribReg=Object(s["a"])({},e);var t=e.codigo.substring(0,3),a=this.CSTIBSCBSCollection.find((function(e){return e.codigo===t}));return this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.CSTReg=a.codigo,void(this.cstReg=Object(s["a"])({},a))}this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.cClassTribReg=null,this.classTribReg=null,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.CSTReg=null,this.cstReg=null}}},le=ce,ue=Object(y["a"])(le,se,oe,!1,null,null,null),de=ue.exports,pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Base de cálculo",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.vBCCredPres,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper,"vBCCredPres",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.vBCCredPres"}})],1),a("b-col",{attrs:{lg:"6"}},[a("SelectWithSearch",{attrs:{label:"Cód. créd. Presumido",filterBy:e.taxFilter,change:e.changeCodCredPresSelected,options:e.codCredPresCollection},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}}]),model:{value:e.codCredPres,callback:function(t){e.codCredPres=t},expression:"codCredPres"}},[a("template",{slot:"no-options"},[e._v(" Nenhum resultado encontrado ")])],2)],1)],1),a("CredPresOperIBS"),a("CredPresOperCBS")],1)},fe=[],me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Label",{staticClass:"mt-2"},[e._v("IBS")]),a("b-row",[a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pCredPresIBS",label:"Alíquota",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres.pCredPres,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres,"pCredPres",t)},expression:"\n          productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres.pCredPres\n        "}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres.vCredPres,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres,"vCredPres",t)},expression:"\n          productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres.vCredPres\n        "}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor cond. sus.",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1,disabled:""},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres.vCredPresCondSus,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres,"vCredPresCondSus",t)},expression:"\n          productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres\n            .vCredPresCondSus\n        "}})],1)],1)],1)},be=[],ve={name:"CredPresOperIBS",components:{Label:l["m"],InputMoney:l["j"],InputQuantity:l["k"]},computed:Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"]))},he=ve,Ce=Object(y["a"])(he,me,be,!1,null,null,null),Se=Ce.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Label",{staticClass:"mt-2"},[e._v("CBS")]),a("b-row",[a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pCredPresCBS",label:"Alíquota",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres.pCredPres,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres,"pCredPres",t)},expression:"\n          productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres.pCredPres\n        "}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres.vCredPres,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres,"vCredPres",t)},expression:"\n          productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres.vCredPres\n        "}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor cond. sus.",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1,disabled:""},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres.vCredPresCondSus,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres,"vCredPresCondSus",t)},expression:"\n          productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres\n            .vCredPresCondSus\n        "}})],1)],1)],1)},Oe=[],Ie={name:"CredPresOperCBS",components:{Label:l["m"],InputMoney:l["j"],InputQuantity:l["k"]},computed:Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"]))},Pe=Ie,Te=Object(y["a"])(Pe,ge,Oe,!1,null,null,null),Be=Te.exports,xe={name:"CredPresOper",components:{InputMoney:l["j"],CredPresOperIBS:Se,CredPresOperCBS:Be,SelectWithSearch:l["r"]},data:function(){return{codCredPres:null,taxFilter:function(e,t,a){var r,n;if(!a)return!0;var i=a.toLowerCase(),s=null===(r=e.codigo)||void 0===r?void 0:r.toString().toLowerCase().includes(i),o=null===(n=e.descricao)||void 0===n?void 0:n.toString().toLowerCase().includes(i);return s||o}}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"])),Object(c["d"])("ibsRegime",["codCredPresCollection"])),mounted:function(){var e=this,t=this.codCredPresCollection.find((function(t){var a,r;return t.codigo===(null===(a=e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime)||void 0===a||null===(r=a.gCredPresOper)||void 0===r?void 0:r.cCredPres)}));t&&(this.codCredPres=t)},methods:{changeCodCredPresSelected:function(e){if(e)return this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.cCredPres=e.codigo,void(this.codCredPres=Object(s["a"])({},e));this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.cCredPres=null,this.codCredPres=null}}},ye=xe,Fe=Object(y["a"])(ye,pe,fe,!1,null,null,null),Ee=Fe.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pCBS",label:"Alíquota",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.pCBS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS,"pCBS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.pCBS"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.vCBS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS,"vCBS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.vCBS"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"CBSPDif",label:"Alíquota diferimento",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:!e.canEditDiferimento,max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.pDif,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS,"pDif",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.pDif"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor diferimento",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1,disabled:!e.canEditDiferimento},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.vDif,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS,"vDif",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.vDif"}})],1)],1),a("b-row",{staticClass:"mt-lg-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor devolução tributos",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.vDevTrib,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS,"vDevTrib",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.vDevTrib"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"CBSPRedAliq",label:"Percentual redução de alíquota",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.pRedAliq,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS,"pRedAliq",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.pRedAliq"}})],1),a("b-col",{staticClass:"mt-lg-4",attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"CBSPAliqEfet",label:"Alíquota efetiva",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.pAliqEfet,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS,"pAliqEfet",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.pAliqEfet"}})],1)],1)],1)},_e=[],je={name:"CBS",components:{InputMoney:l["j"],InputQuantity:l["k"]},computed:Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"])),props:{canEditDiferimento:{type:Boolean,default:!1}}},Me=je,ke=Object(y["a"])(Me,Re,_e,!1,null,null,null),we=ke.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("b-col",{attrs:{lg:"6"}},[a("SelectWithSearch",{attrs:{label:"Class. trib. IS",filterBy:e.taxFilter,options:e.classTribISCollection,disabled:""},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}}]),model:{value:e.classTribIS,callback:function(t){e.classTribIS=t},expression:"classTribIS"}},[a("template",{slot:"no-options"},[e._v(" Nenhum resultado encontrado ")])],2)],1),a("b-col",{attrs:{lg:"6"}},[a("SelectWithSearch",{attrs:{label:"CST IS",disabled:"",filterBy:e.taxFilter,options:e.CSTISCollection},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}}]),model:{value:e.cstIS,callback:function(t){e.cstIS=t},expression:"cstIS"}},[a("template",{slot:"no-options"},[e._v(" Nenhum resultado encontrado ")])],2)],1)],1),a("b-row",{staticClass:"mt-lg-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Base de cálculo",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1,disabled:""},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.vBCIS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS,"vBCIS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.vBCIS"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pIS",label:"Alíquota",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.pIS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS,"pIS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.pIS"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"pISEspec",label:"Alíquota específica",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.pISEspec,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS,"pISEspec",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.pISEspec"}})],1),a("b-col",{attrs:{lg:"3"}},[a("Label",{attrs:{disabled:""}},[e._v("Unidade tributável")]),a("Input",{attrs:{id:"uTrib",mask:[e.uTribMask],disabled:""},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.uTrib,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS,"uTrib",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.uTrib"}})],1)],1),a("b-row",{staticClass:"mt-lg-2"},[a("b-col",{attrs:{lg:"3"}},[a("InputQuantity",{attrs:{id:"qTrib",label:"Qtd tributável",inputClass:"form-control input",labelBold:"",precision:4,returnFormattedValue:!1,disabled:"",max:8},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.qTrib,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS,"qTrib",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.qTrib"}})],1),a("b-col",{attrs:{lg:"3"}},[a("InputMoney",{attrs:{label:"Valor",inputClass:"form-control input",labelBold:"",precision:2,returnFormattedValue:!1,disabled:""},model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.vIS,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS,"vIS",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.vIS"}})],1)],1)],1)},Ae=[],Ne={name:"IS",components:{Label:l["m"],Input:l["g"],InputMoney:l["j"],InputQuantity:l["k"],SelectWithSearch:l["r"]},data:function(){return{uTribMask:"######",classTribIS:null,cstIS:null,taxFilter:function(e,t,a){var r,n;if(!a)return!0;var i=a.toLowerCase(),s=null===(r=e.codigo)||void 0===r?void 0:r.toString().toLowerCase().includes(i),o=null===(n=e.descricao)||void 0===n?void 0:n.toString().toLowerCase().includes(i);return s||o}}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])("purchase",["productOfPurchaseOnFiscalEdit"])),Object(c["d"])("ibsRegime",["classTribISCollection","CSTISCollection"])),mounted:function(){var e=this,t=this.classTribISCollection.find((function(t){var a,r;return t.codigo===(null===(a=e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime)||void 0===a||null===(r=a.IS)||void 0===r?void 0:r.cClassTribIS)})),a=this.CSTISCollection.find((function(t){var a,r;return t.codigo===(null===(a=e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime)||void 0===a||null===(r=a.IS)||void 0===r?void 0:r.CSTIS)}));t&&(this.classTribIS=t),a&&(this.cstIS=a)}},$e=Ne,qe=Object(y["a"])($e,De,Ae,!1,null,null,null),Le=qe.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"6"}},[a("InputQuantity",{ref:"quantityPurchased",attrs:{id:"quantityPurchased",label:e.labelQuantity(),inputClass:"form-control input",labelBold:"",max:13,error:e.$v.productOfPurchaseOnFiscalEdit.productData.quantityPurchased.$error},on:{input:e.onChangeQuantityPurchased},model:{value:e.productOfPurchaseOnFiscalEdit.productData.quantityPurchased,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.productData,"quantityPurchased",t)},expression:"productOfPurchaseOnFiscalEdit.productData.quantityPurchased"}})],1),a("b-col",{attrs:{sm:"3"}},[a("SelectWithSearch",{ref:"searchUnitOfMeasure",attrs:{label:"Uni. Conversão",labelBold:"",placeholder:"Informe a Uni. Conversão",labelBusca:"name",clearable:!1,options:e.unitOfMeasureCollection,change:e.changeUnitOfMeasure,search:e.searchUnitOfMeasure},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" - "+e._s(t.data.acronym)+" - ("+e._s(e.returnsCharacterOperator(t.data.converterOperator))+" "+e._s(e.valorReal(t.data.converter))+") ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.acronym)+" ")])]}}]),model:{value:e.productOfPurchaseOnFiscalEdit.productData.unitOfMeasure,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.productData,"unitOfMeasure",t)},expression:"productOfPurchaseOnFiscalEdit.productData.unitOfMeasure"}},[a("template",{slot:"no-options"},[e._v(" Selecione uma unidade ")])],2)],1),a("b-col",{attrs:{sm:"3"}},[a("InputMoney",{ref:"discount",attrs:{id:"discount",label:"Desconto",inputClass:"form-control input",labelBold:"",precision:2,error:e.$v.productOfPurchaseOnFiscalEdit.productData.discount.$error},model:{value:e.productOfPurchaseOnFiscalEdit.productData.discount,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.productData,"discount",t)},expression:"productOfPurchaseOnFiscalEdit.productData.discount"}})],1)],1),a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"6"}},[a("InputMoney",{ref:"price",attrs:{id:"price",label:"Valor Unitário",inputClass:"form-control input",labelBold:"",error:e.$v.productOfPurchaseOnFiscalEdit.productData.price.$error,max:14},model:{value:e.productOfPurchaseOnFiscalEdit.productData.price,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.productData,"price",t)},expression:"productOfPurchaseOnFiscalEdit.productData.price"}})],1),a("b-col",{attrs:{sm:"6"}},[a("InputMoney",{ref:"totalPrice",attrs:{id:"totalPrice",label:"Total do Item",inputClass:"form-control input",labelBold:"",disabled:"",precision:2,error:e.$v.productOfPurchaseOnFiscalEdit.productData.totalPrice.$error},model:{value:e.productOfPurchaseOnFiscalEdit.productData.totalPrice,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.productData,"totalPrice",t)},expression:"productOfPurchaseOnFiscalEdit.productData.totalPrice"}})],1)],1),a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{sm:"3"}},[a("SelectWithSearch",{ref:"searchOrigem",attrs:{label:"Origem",placeholder:"Origem",labelBusca:"codigo",filterBy:e.taxFilter,change:e.changeOrigemSelected,options:e.origemCollection,search:e.searchOrigem,error:e.$v.productOfPurchaseOnFiscalEdit.fiscal.values.origem.$error},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" ")])]}}]),model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.origem,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"origem",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.origem"}},[a("template",{slot:"no-options"},[e._v(" Selecione uma origem ")])],2)],1),a("b-col",{attrs:{sm:"3"}},[a("SelectWithSearch",{ref:"searchCst",attrs:{label:"CST",placeholder:"CST",labelBusca:"codigo",filterBy:e.taxFilter,change:e.changeCstSelected,options:e.cstCollection,search:e.searchCst},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" ")])]}}]),model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.cst,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"cst",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.cst"}},[a("template",{slot:"no-options"},[e._v(" Selecione um CST ")])],2)],1),a("b-col",{attrs:{sm:"3"}},[a("SelectWithSearch",{ref:"searchCSOSN",attrs:{label:"CSOSN",labelBusca:"codigo",placeholder:"CSOSN",filterBy:e.taxFilter,change:e.changeCsosnSelected,options:e.csosnCollection,search:e.searchCsosn},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" ")])]}}]),model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.csosn,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"csosn",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.csosn"}},[a("template",{slot:"no-options"},[e._v(" Selecione um CST COFINS ")])],2)],1),a("b-col",{attrs:{sm:"3"}},[a("SelectWithSearch",{ref:"searchCfop",attrs:{label:"CFOP",placeholder:"CFOP",labelBusca:"codigo",filterBy:e.taxFilter,change:e.changeCfopSelected,options:e.cfopCollection,search:e.searchCfop,error:e.$v.productOfPurchaseOnFiscalEdit.fiscal.values.cfop.$error},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(e._s(t.data.codigo)+" - "+e._s(t.data.descricao))])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.codigo)+" ")])]}}]),model:{value:e.productOfPurchaseOnFiscalEdit.fiscal.values.cfop,callback:function(t){e.$set(e.productOfPurchaseOnFiscalEdit.fiscal.values,"cfop",t)},expression:"productOfPurchaseOnFiscalEdit.fiscal.values.cfop"}},[a("template",{slot:"no-options"},[e._v(" Selecione um cfop ")])],2)],1)],1)],1)},Ve=[],ze=a("088f"),Qe=a("50f7"),We=a("8a0f"),Ke={name:"product",mixins:[p["a"]],components:{InputMoney:l["j"],InputQuantity:l["k"],SelectWithSearch:l["r"]},validations:{productOfPurchaseOnFiscalEdit:{fiscal:{values:{origem:{requiredTax:T},cfop:{requiredTax:T}}},productData:{price:{requiredStringNumber:C},totalPrice:{requiredTotalStringNumber:S},quantityPurchased:{requiredStringNumber:C},discount:{numericStringNumber:g}}}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setCfopCollectionForProductPurchase({supplierId:e.supplierInformation.supplier.id});case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{taxFilter:function(e,t){var a=t.toLocaleLowerCase();return e.descricao.includes(a)||e.codigo.includes(a)}}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["d"])("cst",["cstCollection"])),Object(c["d"])("csosn",["csosnCollection"])),Object(c["d"])("origem",["origemCollection"])),Object(c["d"])("unitOfMeasure",["unitOfMeasureCollection"])),Object(c["d"])("componentsPurchase",["modalProductIsOpen"])),Object(c["d"])("purchase",["cfopCollection","purchaseParams","modalProductIsOpen","supplierInformation","productOfPurchaseOnFiscalEdit"])),methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["b"])("cst",["setCSTCollection"])),Object(c["b"])("csosn",["setCSOSNCollection"])),Object(c["b"])("origem",["setOrigemCollection"])),Object(c["b"])("purchase",["setCfopCollectionForProductPurchase"])),Object(c["b"])("unitOfMeasure",["setUnitOfMeasureCollection"])),Object(c["b"])("componentsPurchase",["setLoadingTabProduct"])),{},{searchCsosn:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:null,!r){a.next=4;break}return a.next=4,t.setCSOSNCollection(r);case 4:case"end":return a.stop()}}),a)})))()},changeCsosnSelected:function(e){this.productOfPurchaseOnFiscalEdit.fiscal.values.csosn=e?Object(s["a"])({},e):[]},searchCfop:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:null,a.next=3,t.setCfopCollectionForProductPurchase({search:r,supplierId:t.supplierInformation.supplier.id});case 3:case"end":return a.stop()}}),a)})))()},changeCfopSelected:function(e){this.productOfPurchaseOnFiscalEdit.fiscal.values.cfop=e?Object(s["a"])({},e):[]},searchOrigem:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:null,!r){a.next=4;break}return a.next=4,t.setOrigemCollection(r);case 4:case"end":return a.stop()}}),a)})))()},changeOrigemSelected:function(e){this.productOfPurchaseOnFiscalEdit.fiscal.values.origem=e?Object(s["a"])({},e):[]},searchCst:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:null,!r){a.next=4;break}return a.next=4,t.setCSTCollection(r);case 4:case"end":return a.stop()}}),a)})))()},changeCstSelected:function(e){this.productOfPurchaseOnFiscalEdit.fiscal.values.cst=e?Object(s["a"])({},e):[]},searchUnitOfMeasure:function(){var e=arguments,t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:null,!r){a.next=6;break}return t.setLoadingTabProduct(!0),a.next=5,t.setUnitOfMeasureCollection(r);case 5:t.setLoadingTabProduct(!1);case 6:case"end":return a.stop()}}),a)})))()},changeUnitOfMeasure:function(e){e&&(this.productOfPurchaseOnFiscalEdit.productData.unitOfMeasure=Object(s["a"])({},e))},converterOperationDivider:function(){var e=this.valorUS(this.productOfPurchaseOnFiscalEdit.productData.quantityPurchased)/this.productOfPurchaseOnFiscalEdit.productData.unitOfMeasure.converter;return Object(v["round"])(e,this.purchaseParams.decimalConfiguration.quantity)},converterOperationMultiplier:function(){var e=this.valorUS(this.productOfPurchaseOnFiscalEdit.productData.quantityPurchased)*this.productOfPurchaseOnFiscalEdit.productData.unitOfMeasure.converter;return Object(v["round"])(e,this.purchaseParams.decimalConfiguration.quantity)},returnsCharacterOperator:function(e){return e===Qe["b"]?"x":"/"},labelQuantity:function(){var e=this.productOfPurchaseOnFiscalEdit.productData.unitOfMeasure.converterOperator;return e===Qe["b"]?"Quantidade (entrada estoque: ".concat(this.valorReal(this.converterOperationMultiplier(),this.purchaseParams.decimalConfiguration.quantity),")"):"Quantidade (entrada estoque: ".concat(this.valorReal(this.converterOperationDivider(),this.purchaseParams.decimalConfiguration.quantity),")")},updateTotalPrice:function(){var e,t=this.productOfPurchaseOnFiscalEdit.productData,a=t.price,r=t.discount,n=t.quantityPurchased,i=this.valorUS(a),s=null!==(e=this.valorUS(r))&&void 0!==e?e:0,o=this.valorUS(n),c=new ze["a"](i).multiply(o).subtract(s).round(2).toNumber();this.productOfPurchaseOnFiscalEdit.productData.totalPrice=this.valorReal(c)},onChangeQuantityPurchased:function(e){this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS.qTrib=Object(We["b"])(e)}}),watch:{productOfPurchaseOnFiscalEdit:{handler:function(){this.updateTotalPrice(),this.handleConverterOperation()},deep:!0}}},Xe=Ke,Ye=Object(y["a"])(Xe,Ue,Ve,!1,null,null,null),He=Ye.exports,Ge=a("218b"),Je=p["a"].methods.valorUS,Ze=function(e){var t,a=e.productData;return{productData:Object(s["a"])(Object(s["a"])({},a),{},{price:Je(a.price),quantityPurchased:Je(a.quantityPurchased),quantityConverted:Je(null!==(t=a.quantityConverted)&&void 0!==t?t:a.quantityPurchased),vDesc:Je(a.discount),totalPrice:Je(a.totalPrice)})}},et=function(e){var t,a,r,n,i,o,c,l,u,d,p,f,m,b,v,h,C,S,g,O,I,P,T,B,x,y,F,E,R,_,j,M,k,w,D,A,N,$=e.fiscal,q=$.values,L=$.ids;return{fiscal:Object(s["a"])(Object(s["a"])({},$),{},{values:Object(s["a"])(Object(s["a"])({},q),{},{vBC:Je(null!==(t=q.vBC)&&void 0!==t?t:0),pICMS:Je(null!==(a=q.pICMS)&&void 0!==a?a:0),vICMS:Je(null!==(r=q.vICMS)&&void 0!==r?r:0),vBCST:Je(null!==(n=q.vBCST)&&void 0!==n?n:0),vICMSST:Je(null!==(i=q.vICMSST)&&void 0!==i?i:0),pMVAST:Je(null!==(o=q.pMVAST)&&void 0!==o?o:0),pICMSST:Je(null!==(c=q.pICMSST)&&void 0!==c?c:0),pST:Je(null!==(l=q.pST)&&void 0!==l?l:0),vICMSSTRet:Je(null!==(u=q.vICMSSTRet)&&void 0!==u?u:0),vBCSTRet:Je(null!==(d=q.vBCSTRet)&&void 0!==d?d:0),pFCPST:Je(null!==(p=q.pFCPST)&&void 0!==p?p:0),vFCPST:Je(null!==(f=q.vFCPST)&&void 0!==f?f:0),vBCFCPST:Je(null!==(m=q.vBCFCPST)&&void 0!==m?m:0),pIPI:Je(null!==(b=q.pIPI)&&void 0!==b?b:0),vIPI:Je(null!==(v=q.vIPI)&&void 0!==v?v:0),pPIS:Je(null!==(h=q.pPIS)&&void 0!==h?h:0),vPIS:Je(null!==(C=q.vPIS)&&void 0!==C?C:0),vBCPIS:Je(null!==(S=q.vBCPIS)&&void 0!==S?S:0),pCOFINS:Je(null!==(g=q.pCOFINS)&&void 0!==g?g:0),vCOFINS:Je(null!==(O=q.vCOFINS)&&void 0!==O?O:0),vBCCOFINS:Je(null!==(I=q.vBCCOFINS)&&void 0!==I?I:0)}),ids:Object(s["a"])(Object(s["a"])({},L),{},{csosnId:null!==(P=null===(T=q.csosn)||void 0===T?void 0:T.id)&&void 0!==P?P:null,origemId:null!==(B=null===(x=q.origem)||void 0===x?void 0:x.id)&&void 0!==B?B:null,cenqId:null!==(y=null===(F=q.cenq)||void 0===F?void 0:F.id)&&void 0!==y?y:null,cfopId:null!==(E=null===(R=q.cfop)||void 0===R?void 0:R.id)&&void 0!==E?E:null,cstId:null!==(_=null===(j=q.cst)||void 0===j?void 0:j.id)&&void 0!==_?_:null,cstIPIId:null!==(M=null===(k=q.cstIpi)||void 0===k?void 0:k.id)&&void 0!==M?M:null,cstPISId:null!==(w=null===(D=q.cstPis)||void 0===D?void 0:D.id)&&void 0!==w?w:null,cstCOFINSId:null!==(A=null===(N=q.cstCofins)||void 0===N?void 0:N.id)&&void 0!==A?A:null})})}},tt=a("d9f9"),at={name:"modalFiscalProduct",mixins:[p["a"]],components:{Modal:o["u"],STTab:E,IcmsIpiTab:w,PisCofinsTab:L,IBSCBS:K,IBSUF:Z,IBSMun:ie,CBS:we,TribRegular:de,CredPresOper:Ee,IS:Le,Button:l["a"],ProductTab:He,Close:d["a"]},data:function(){return{tabIndex:0,cClassTrib:null,cClassTribReg:null,canEditDiferimento:!1,showTribRegular:!0,showCredPresOper:!0,arrTabs:["productTab","stTab","icmsIpiTab","pisCofinsTab","IBSCBSTab","IBSUFTab","IBSMunTab","CBSTab","TribRegularTab","CredPresOperTab","ISTab"]}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["d"])("purchase",["purchase","products","productOfPurchaseOnFiscalEdit"])),Object(c["d"])("componentsPurchase",["modalProductIsOpen","loadingTabProduct","loadingTabPurchase"])),Object(c["d"])("product",["productInventory"])),Object(c["d"])("ibsRegime",["classTribIBSCBSCollection","CSTIBSCBSCollection"])),Object(c["d"])("client",["client"])),Object(c["c"])("purchase",["decimalConfiguration"])),mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.classTribIBSCBSCollection.length){t.next=5;break}return e.setLoadingTabPurchase(!0),t.next=4,e.setIbsRegimeCodesCollection();case 4:e.setLoadingTabPurchase(!1);case 5:case"end":return t.stop()}}),t)})))()},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(c["b"])("purchase",["totalCalcPurchase","setProductOfPurchaseOnFiscalEdit","setProductOnPurchaseCollection","setUnitOfMeasureById"])),Object(c["b"])("componentsPurchase",["toggleModalProduct","setLoadingTabPurchase"])),Object(c["b"])("ibsRegime",["getIbsTaxRegimeAliquots"])),Object(c["b"])("ibsRegime",["setIbsRegimeCodesCollection"])),{},{isValidProduct:function(){var e=this;return this.$refs.productTab.$v.$touch(),this.$refs.stTab.$v.$touch(),!this.arrTabs.some((function(t){var a,r;return!(null===(a=e.$refs[t])||void 0===a||null===(r=a.$v)||void 0===r||!r.$error)}))},handleSave:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isValidProduct()){t.next=2;break}return t.abrupt("return",!1);case 2:return a=Ze(e.productOfPurchaseOnFiscalEdit),r=a.productData,n=et(e.productOfPurchaseOnFiscalEdit),i=n.fiscal,o={productOfPurchaseOnFiscalEdit:Object(s["a"])(Object(s["a"])({},e.productOfPurchaseOnFiscalEdit),{},{productData:Object(s["a"])({},r),fiscal:Object(s["a"])({},i)}),products:e.products},t.next=7,e.setProductOnPurchaseCollection(o);case 7:return t.next=9,e.totalCalcPurchase({calcTypes:[u["b"].TOTAL_ATTRIBUTES,u["b"].TOTAL_COMMON,u["b"].TOTAL_DESC_BASED_ON_ITEM,u["b"].TOTAL_NF,u["b"].TOTAL_TAX_REGIME]});case 9:return t.next=11,e.toggleModalProduct();case 11:return t.abrupt("return",e.$alert.success("Informações salvas!"));case 12:case"end":return t.stop()}}),t)})))()},linkClass:function(e){var t,a;return null!==(t=this.$refs[this.arrTabs[e]])&&void 0!==t&&null!==(a=t.$v)&&void 0!==a&&a.$error?["text-danger"]:this.tabIndex===e?["color-default"]:["text-muted"]},onChangeCClassTrib:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.cClassTrib=e,a.next=3,t.changeIbsTaxRegimeValues();case 3:case"end":return a.stop()}}),a)})))()},onChangeCClassTribReg:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.cClassTribReg=e,a.next=3,t.changeIbsTaxRegimeValues();case 3:case"end":return a.stop()}}),a)})))()},setZeroedValues:function(){this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.cClassTrib=null,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CST=null,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.vBC=0,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.vIBS=0,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF=Object(s["a"])(Object(s["a"])({},this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF),Object(tt["b"])().IBSUF),this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun=Object(s["a"])(Object(s["a"])({},this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun),Object(tt["b"])().IBSMun),this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS=Object(s["a"])(Object(s["a"])({},this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS),Object(tt["b"])().CBS),this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular=Object(s["a"])(Object(s["a"])({},this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular),Object(tt["b"])().gTribRegular),this.clearGCredPresOper(),this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS=Object(s["a"])(Object(s["a"])({},this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IS),Object(tt["b"])().IS)},changeIbsTaxRegimeValues:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,o,c,l,u,d,p,f,m,b,v,h,C,S,g,O,I,P,T,B,x,y,F,E,R,_,j,M,k,w,D,A,N;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.showTribRegular=null!==(a=null===(r=e.cClassTrib)||void 0===r?void 0:r.ind_gTribRegular)&&void 0!==a&&a,e.showCredPresOper=null!==(n=null===(i=e.cClassTrib)||void 0===i?void 0:i.ind_gCredPres)&&void 0!==n&&n,_=null!==(o=null===(c=e.client.addressCollection)||void 0===c||null===(l=c[0])||void 0===l||null===(u=l.zipCode)||void 0===u||null===(d=u.city)||void 0===d?void 0:d.code)&&void 0!==o?o:"",j=null!==(p=null===(f=e.client.addressCollection)||void 0===f||null===(m=f[0])||void 0===m||null===(b=m.zipCode)||void 0===b||null===(v=b.city)||void 0===v||null===(h=v.state)||void 0===h?void 0:h.code)&&void 0!==p?p:"",M=null!==(C=null===(S=e.cClassTrib)||void 0===S?void 0:S.codigo)&&void 0!==C?C:"",k=null!==(g=null===(O=e.cClassTribReg)||void 0===O?void 0:O.codigo)&&void 0!==g?g:"",M){t.next=9;break}return e.canEditDiferimento=!1,t.abrupt("return",e.setZeroedValues());case 9:return t.next=11,e.getIbsTaxRegimeAliquots({cMun:_,cUF:j,cClassTrib:M,cClassTribReg:k});case 11:return w=t.sent,D=null!==(I=null===M||void 0===M?void 0:M.substring(0,3))&&void 0!==I?I:null,A=null!==(P=null===k||void 0===k?void 0:k.substring(0,3))&&void 0!==P?P:null,e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime=Object(s["a"])(Object(s["a"])({},e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime),{},{CST:D,CBS:Object(s["a"])(Object(s["a"])({},e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS),{},{pCBS:w.CBS.pCBS,pRedAliq:null!==(T=null===(B=e.cClassTrib)||void 0===B?void 0:B.reducaoCBS)&&void 0!==T?T:0,pAliqEfet:w.CBS.pAliqEfet}),IBSMun:Object(s["a"])(Object(s["a"])({},e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun),{},{pIBSMun:w.IBSMun.pIBSMun,pRedAliq:null!==(x=null===(y=e.cClassTrib)||void 0===y?void 0:y.reducaoIBS)&&void 0!==x?x:0,pAliqEfet:w.IBSMun.pAliqEfet}),IBSUF:Object(s["a"])(Object(s["a"])({},e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF),{},{pIBSUF:w.IBSUF.pIBSUF,pRedAliq:null!==(F=null===(E=e.cClassTrib)||void 0===E?void 0:E.reducaoIBS)&&void 0!==F?F:0,pAliqEfet:w.IBSUF.pAliqEfet}),gTribRegular:Object(s["a"])(Object(s["a"])({},e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular),{},{CSTReg:A,pAliqEfetRegCBS:w.tribReg.pAliqEfetRegCBS,pAliqEfetRegIBSMun:w.tribReg.pAliqEfetRegIBSMun,pAliqEfetRegIBSUF:w.tribReg.pAliqEfetRegIBSUF})}),N=e.CSTIBSCBSCollection.find((function(e){return e.codigo===D})),e.canEditDiferimento=null!==(R=null===N||void 0===N?void 0:N.ind_gDif)&&void 0!==R&&R,t.abrupt("return",e.clearValuesByIndicators());case 18:case"end":return t.stop()}}),t)})))()},clearValuesByIndicators:function(){var e,t,a,r,n,i=null!==(e=null===(t=this.cClassTrib)||void 0===t?void 0:t.ind_gTribRegular)&&void 0!==e&&e,o=null!==(a=null===(r=this.cClassTrib)||void 0===r?void 0:r.ind_gCredPres)&&void 0!==a&&a;i&&null!==(n=this.cClassTribReg)&&void 0!==n&&n.codigo||(this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular=Object(s["a"])(Object(s["a"])({},this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular),Object(tt["b"])().gTribRegular)),o||this.clearGCredPresOper(),this.canEditDiferimento||(this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.pDif=0,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.pDif=0,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.pDif=0,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSUF.vDif=0,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.IBSMun.vDif=0,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.CBS.vDif=0)},clearGCredPresOper:function(){this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.vBCCredPres=0,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.cCredPres=null,this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres=Object(s["a"])(Object(s["a"])({},this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gIBSCredPres),Object(tt["b"])().gCredPresOper.gIBSCredPres),this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres=Object(s["a"])(Object(s["a"])({},this.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gCredPresOper.gCBSCredPres),Object(tt["b"])().gCredPresOper.gCBSCredPres)}}),watch:{modalProductIsOpen:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.modalProductIsOpen){t.next=2;break}return t.abrupt("return");case 2:return a=e.productOfPurchaseOnFiscalEdit.fiscal,r=Ge["c"](e.productOfPurchaseOnFiscalEdit,e.decimalConfiguration),n=r.productData,i=Ge["a"](e.productOfPurchaseOnFiscalEdit),o=i.values,t.next=7,e.setProductOfPurchaseOnFiscalEdit(Object(s["a"])(Object(s["a"])({},e.productOfPurchaseOnFiscalEdit),{},{productData:Object(s["a"])({},n),fiscal:Object(s["a"])(Object(s["a"])({},a),{},{values:Object(s["a"])({},o)})}));case 7:return e.cClassTrib=e.classTribIBSCBSCollection.find((function(t){return t.codigo===e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.cClassTrib}))||null,e.cClassTribReg=e.classTribIBSCBSCollection.find((function(t){return t.codigo===e.productOfPurchaseOnFiscalEdit.fiscal.IBSTaxRegime.gTribRegular.cClassTribReg}))||null,t.next=11,e.changeIbsTaxRegimeValues();case 11:case"end":return t.stop()}}),t)})))()}}},rt=at,nt=(a("13c0"),Object(y["a"])(rt,r,n,!1,null,"82fe1ab8",null));t["a"]=nt.exports},e4e6:function(e,t,a){"use strict";a("8219")},ee48:function(e,t,a){},ef25:function(e,t,a){"use strict";var r=function(e,t){var a=t._c;return a("span",t._g(t._b({staticClass:"material-design-icon plus-thick-icon",class:[t.data.class,t.data.staticClass],attrs:{"aria-hidden":t.props.decorative,"aria-label":t.props.title,role:"img"}},"span",t.data.attrs,!1),t.listeners),[a("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.props.fillColor,width:t.props.size,height:t.props.size,viewBox:"0 0 24 24"}},[a("path",{attrs:{d:"M20 14H14V20H10V14H4V10H10V4H14V10H20V14Z"}},[a("title",[t._v(t._s(t.props.title))])])])])},n=[],i=(a("a9e3"),{name:"PlusThickIcon",props:{title:{type:String,default:"Plus Thick icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}),s=i,o=a("2877"),c=Object(o["a"])(s,r,n,!0,null,null,null);t["a"]=c.exports},f009:function(e,t,a){},f8b2:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Accordion",{attrs:{error:e.$v.taxInformation.$error,id:"taxInformation",title:"INFORMAÇÕES FISCAIS"}},[a("b-row",{staticClass:"row-padding"},[a("b-col",{attrs:{lg:"5",md:"12"}},[a("SelectWithSearch",{ref:"searchNatureza",attrs:{id:"natureza",label:"Natureza",labelBusca:"descricao",placeholder:"Pesquise uma natureza",error:e.$v.taxInformation.natureza.$error,options:e.naturezaCollection,change:e.changeNaturezaSelected},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected"},[e._v(" "+e._s(t.data.descricao)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.descricao)+" ")])]}}]),model:{value:e.taxInformation.natureza,callback:function(t){e.$set(e.taxInformation,"natureza",t)},expression:"taxInformation.natureza"}},[a("template",{slot:"no-options"},[e._v("Nenhuma natureza encontrada")])],2)],1),a("b-col",{attrs:{lg:"2",md:"4"}},[a("Label",[e._v("CFOP:")]),a("Input",{attrs:{id:"cfop",value:e.taxInformation.natureza.cfop.codigo,disabled:""}})],1),a("b-col",{attrs:{lg:"3",md:"4"}},[a("Label",[e._v("Número:")]),a("Input",{attrs:{id:"nfeNumber","aria-required":"true",placeholder:"Nº NFE",mask:[e.nfeNumberMask],error:e.$v.taxInformation.nfeNumber.$error},model:{value:e.taxInformation.nfeNumber,callback:function(t){e.$set(e.taxInformation,"nfeNumber",t)},expression:"taxInformation.nfeNumber"}})],1),a("b-col",{attrs:{lg:"2",md:"4"}},[a("Label",[e._v("Data Entrada:")]),a("InputDate",{attrs:{id:"entryDate","aria-required":"true",format:"DD/MM/YYYY",range:!1,error:e.$v.taxInformation.entryDate.$error},model:{value:e.taxInformation.entryDate,callback:function(t){e.$set(e.taxInformation,"entryDate",t)},expression:"taxInformation.entryDate"}})],1)],1),a("b-row",{staticClass:"row-padding pt-0"},[a("b-col",{attrs:{md:"6",lg:"3"}},[a("SelectWithSearch",{ref:"searchBuyer",attrs:{id:"buyer",labelBusca:"name",label:"Comprador:",placeholder:"Selecione um comprador",inputClass:"search-buyer",error:e.$v.taxInformation.buyer.$error,options:e.buyerCollectionData,change:e.changeBuyerSelected},scopedSlots:e._u([{key:"options",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" ")])]}},{key:"selected",fn:function(t){return[a("div",{staticClass:"selected",staticStyle:{"text-transform":"uppercase"}},[e._v(" "+e._s(t.data.name)+" ")])]}}]),model:{value:e.taxInformation.buyer,callback:function(t){e.$set(e.taxInformation,"buyer",t)},expression:"taxInformation.buyer"}},[a("template",{slot:"no-options"},[e._v("Nenhum comprador encontrado")])],2)],1),a("b-col",{attrs:{md:"6",lg:"5"}},[a("Label",[e._v("Chave:")]),a("Input",{attrs:{id:"nfeKey",placeholder:"Informe a chave de acesso",error:e.$v.taxInformation.nfeKey.$error,mask:[e.nfeKeyMask]},model:{value:e.taxInformation.nfeKey,callback:function(t){e.$set(e.taxInformation,"nfeKey",t)},expression:"taxInformation.nfeKey"}})],1),a("b-col",{attrs:{md:"4",lg:"1"}},[a("Label",[e._v("Série:")]),a("Input",{attrs:{id:"nfeSerie",placeholder:"1",mask:["XXX"],error:e.$v.taxInformation.nfeSerie.$error},model:{value:e.taxInformation.nfeSerie,callback:function(t){e.$set(e.taxInformation,"nfeSerie",t)},expression:"taxInformation.nfeSerie"}})],1),a("b-col",{attrs:{md:"4",lg:"1"}},[a("Label",[e._v("Modelo:")]),a("Input",{attrs:{id:"nfeModel",placeholder:"55",mask:["XX"],error:e.$v.taxInformation.nfeModel.$error},on:{blur:e.checkIfIsACte},model:{value:e.taxInformation.nfeModel,callback:function(t){e.$set(e.taxInformation,"nfeModel",t)},expression:"taxInformation.nfeModel"}})],1),a("b-col",{attrs:{md:"4",lg:"2"}},[a("Label",[e._v("Data Emissão:")]),a("InputDate",{attrs:{id:"issueDate","aria-required":"true",format:"DD/MM/YYYY",range:!1,error:e.$v.taxInformation.issueDate.$error},model:{value:e.taxInformation.issueDate,callback:function(t){e.$set(e.taxInformation,"issueDate",t)},expression:"taxInformation.issueDate"}})],1)],1),a("ModalConfirmCFOP")],1)},n=[],i=(a("7db0"),a("caad"),a("2532"),a("5530")),s=(a("96cf"),a("1da1")),o=a("2af9"),c=a("2f62"),l=a("2127"),u=a("8fc5"),d=(a("99af"),a("0481"),a("d81d"),a("4069"),{ENTRY_STATE:"1",ENTRY_INTERSTATE:"2",ENTRY_INTERNATIONAL:"3",EXIT_STATE:"5",EXIT_INTERSTATE:"6",EXIT_INTERNATIONAL:"7"}),p=[d.ENTRY_STATE,d.ENTRY_INTERSTATE,d.ENTRY_INTERNATIONAL],f=[d.EXIT_STATE,d.EXIT_INTERSTATE,d.EXIT_INTERNATIONAL],m={methods:{putTypeOperationInCFOP:function(e,t){if(e!==p&&e!==f)throw this.$alert.error("Grupo de iniciais de CFOP inválido!");var a=e.map((function(e){return t.map((function(t){return"".concat(e).concat(t)}))})).flat();return a}}},b=(a("a9e3"),a("9129"),a("b5ae")),v=function(e){return e instanceof Date&&!Number.isNaN(e)},h=b["required"],C=b["minLength"],S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{attrs:{value:e.modalChangeCFOP,onClose:e.cancel,size:"tiny"}},[a("b-row",{attrs:{align:"center"}},[a("b-col",[a("AlertCircleOutline",{staticClass:"icon-2x",attrs:{title:"Alerta"}})],1)],1),a("b-row",{staticClass:"mt-2 mb-3",attrs:{align:"center"}},[a("b-col",[a("h2",[e._v("Deseja alterar o CFOP dos itens relacionados a essa nota?")])])],1),a("b-row",{attrs:{align:"center"}},[a("b-col",[a("Button",{attrs:{type:"cancel"},on:{click:function(t){return e.cancel()}}},[a("Close",{staticClass:"mb-1",attrs:{title:"Não"}}),e._v(" Não ")],1),a("Button",{attrs:{type:"success"},on:{click:function(t){return e.confirm()}}},[e._v("Sim")])],1)],1)],1)},g=[],O=(a("d3b7"),a("ddb0"),a("7eb5")),I=a("6f7c"),P={name:"ModalConfirmCFOP",components:{Modal:o["u"],Button:l["a"],Close:O["a"],AlertCircleOutline:I["a"]},computed:Object(i["a"])(Object(i["a"])({},Object(c["d"])("componentsPurchase",["modalChangeCFOP"])),Object(c["d"])("purchase",["products","selectedNatureza","taxInformation","supplierInformation"])),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["b"])("componentsPurchase",["toggleModalChangeCFOP"])),Object(c["b"])("purchase",["setPurchase","setMatchedCfopForPurchaseTaxInformation"])),{},{cancel:function(){this.toggleModalChangeCFOP(),this.taxInformation.natureza=Object(i["a"])({},this.selectedNatureza)},confirm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.supplierInformation.supplier.id){t.next=5;break}return t.next=3,e.changeMatchedCfop();case 3:return e.toggleModalChangeCFOP(),t.abrupt("return");case 5:e.products.productOfPurchaseCollection=e.products.productOfPurchaseCollection.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{fiscal:Object(i["a"])(Object(i["a"])({},t.fiscal),{},{ids:Object(i["a"])(Object(i["a"])({},t.fiscal.ids),{},{cfopId:e.selectedNatureza.cfop.id}),values:Object(i["a"])(Object(i["a"])({},t.fiscal.values),{},{cfop:{codigo:e.selectedNatureza.cfop.codigo,descricao:e.selectedNatureza.cfop.descricao,id:e.selectedNatureza.cfop.id}})})})})),e.taxInformation.natureza=Object(i["a"])({},e.selectedNatureza),e.toggleModalChangeCFOP();case 8:case"end":return t.stop()}}),t)})))()},changeMatchedCfop:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.taxInformation.natureza=Object(i["a"])({},e.selectedNatureza),t.next=3,e.setMatchedCfopForPurchaseTaxInformation({supplierId:e.supplierInformation.supplier.id,cfopIdPurchaseHeader:e.selectedNatureza.cfop.id});case 3:e.products.productOfPurchaseCollection=e.products.productOfPurchaseCollection.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{fiscal:Object(i["a"])(Object(i["a"])({},t.fiscal),{},{ids:Object(i["a"])(Object(i["a"])({},t.fiscal.ids),{},{cfopId:e.taxInformation.natureza.cfop.id}),values:Object(i["a"])(Object(i["a"])({},t.fiscal.values),{},{cfop:{codigo:e.taxInformation.natureza.cfop.codigo,descricao:e.taxInformation.natureza.cfop.descricao,id:e.taxInformation.natureza.cfop.id}})})})}));case 4:case"end":return t.stop()}}),t)})))()}})},T=P,B=(a("aaea"),a("2877")),x=Object(B["a"])(T,S,g,!1,null,"20d80530",null),y=x.exports,F=a("b8f8"),E={name:"taxInformation",components:{Accordion:o["a"],SelectWithSearch:l["r"],Label:l["m"],Input:l["g"],InputDate:l["h"],ModalConfirmCFOP:y},validations:{taxInformation:{natureza:{cfop:{id:{required:h}}},buyer:{required:h},nfeNumber:{required:h},nfeModel:{required:h},nfeSerie:{required:h},nfeKey:{minLength:C(44)},entryDate:{isValidDate:v},issueDate:{isValidDate:v}}},mixins:[u["a"],m],data:function(){return{nfeKeyMask:"############################################",nfeNumberMask:"##########",buyerCollectionData:[]}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isEditing){t.next=5;break}return t.next=3,e.setEmptyNatureza();case 3:e.taxInformation.entryDate=new Date,e.taxInformation.issueDate=new Date;case 5:return t.next=7,e.setNaturezaCollectionForPurchase();case 7:return t.next=9,e.setNatureza();case 9:return t.next=11,e.setCurrentBuyer();case 11:return t.next=13,e.getUsersClient();case 13:return t.next=15,e.usersClient;case 15:e.buyerCollectionData=t.sent;case 16:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["d"])("purchase",["taxInformation","supplierInformation","purchase"])),Object(c["d"])("natureza",["naturezaCollection"])),Object(c["d"])("client",["usersClient","currentUser"])),Object(c["c"])("purchase",["getDefaultBuyerState","getDefaultNaturezaCfopState","isEditing"])),methods:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(c["b"])("natureza",["setNaturezaCollectionForPurchase"])),Object(c["b"])("purchase",["setPurchase","setSelectedNatureza","setMatchedCfopForPurchaseTaxInformation"])),Object(c["b"])("application",["setLoading"])),Object(c["b"])("client",["getUsersClient","getCurrentUser"])),Object(c["b"])("componentsPurchase",["toggleModalChangeCFOP"])),{},{setEmptyNatureza:function(){this.taxInformation.natureza=[],this.taxInformation.natureza.cfop=this.getDefaultNaturezaCfopState},setNatureza:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!==(a=e.taxInformation.natureza)&&void 0!==a&&a.id||(r=window.localStorage.getItem("lastPurchaseNaturezaId"),r&&(n=e.naturezaCollection.find((function(e){return e.id===parseInt(r,10)})),e.changeNaturezaSelected(n,!1)));case 1:case"end":return t.stop()}}),t)})))()},changeNaturezaSelected:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e&&t?(this.setSelectedNatureza(e),this.toggleModalChangeCFOP(),void this.checkIfIsACte()):e?(this.buildTaxInformationCfop(e),this.taxInformation.natureza=Object(i["a"])({},e),void this.checkIfIsACte()):void this.setEmptyNatureza()},buildTaxInformationCfop:function(e){this.supplierInformation.supplier.id&&this.setMatchedCfopForPurchaseTaxInformation({supplierId:this.supplierInformation.supplier.id,cfopIdPurchaseHeader:e.cfop.id})},setCurrentBuyer:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCurrentUser();case 2:e.changeBuyerSelected(e.currentUser);case 3:case"end":return t.stop()}}),t)})))()},serializeBuyer:function(e){return e?e.id:null},changeBuyerSelected:function(e){if(e)return this.taxInformation.buyer=e,void(this.taxInformation.buyerId=this.serializeBuyer(e));this.taxInformation.buyer=this.getDefaultBuyerState,this.taxInformation.buyerId=null},checkIfIsACte:function(){var e=this.taxInformation,t=e.nfeKey,a=e.nfeModel,r=e.natureza.cfop.codigo,n=["350","351","352","353","354","355","356","360"],i=this.putTypeOperationInCFOP(p,n);a===F["a"].CTE&&i.includes(r)&&(t||this.$alert.warning("A chave de acesso deve ser preenchida para o modelo 57 (CTe)"))}}),watch:{taxInformation:{handler:function(){this.purchase.taxInformation=this.taxInformation},deep:!0}}},R=E,_=Object(B["a"])(R,r,n,!1,null,null,null);t["a"]=_.exports},fdc7:function(e,t,a){"use strict";a("9aad")}}]);
//# sourceMappingURL=chunk-34f83faf.4afe3886.js.map